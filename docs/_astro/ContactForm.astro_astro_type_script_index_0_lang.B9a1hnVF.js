var Q={exports:{}},me;function ze(){return me||(me=1,function(s,e){(function(i,l){s.exports=l()})(self,()=>(()=>{var i={223:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.BREAKPOINTS=r.COMBO_BOX_ACCESSIBILITY_KEY_SET=r.SELECT_ACCESSIBILITY_KEY_SET=r.TABS_ACCESSIBILITY_KEY_SET=r.OVERLAY_ACCESSIBILITY_KEY_SET=r.DROPDOWN_ACCESSIBILITY_KEY_SET=r.POSITIONS=void 0,r.POSITIONS={auto:"auto","auto-start":"auto-start","auto-end":"auto-end",top:"top","top-left":"top-start","top-right":"top-end",bottom:"bottom","bottom-left":"bottom-start","bottom-right":"bottom-end",right:"right","right-start":"right-start","right-end":"right-end",left:"left","left-start":"left-start","left-end":"left-end"},r.DROPDOWN_ACCESSIBILITY_KEY_SET=["Escape","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","Enter"],r.OVERLAY_ACCESSIBILITY_KEY_SET=["Escape","Tab"],r.TABS_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End"],r.SELECT_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter","Space","Tab"],r.COMBO_BOX_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter"],r.BREAKPOINTS={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536}},248:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(){this.components=[],this.currentlyOpenedComponents=[],this.activeComponent=null,this.initGlobalListeners()}initGlobalListeners(){document.addEventListener("keydown",a=>this.handleGlobalKeydown(a)),document.addEventListener("focusin",a=>this.handleGlobalFocusin(a))}getActiveComponent(a){if(!a)return null;const d=this.components.filter(b=>b.wrapper.contains(a)||b.context&&b.context.contains(a));if(d.length===0)return null;if(d.length===1)return d[0];let m=null,u=Number.MAX_SAFE_INTEGER;for(const b of d){let k=0,x=a;for(;x&&x!==b.wrapper&&x!==b.context;)k++,x=x.parentElement;k<u&&(u=k,m=b)}return m}handleGlobalFocusin(a){const d=a.target;this.activeComponent=this.getActiveComponent(d)}handleGlobalKeydown(a){const d=a.target;if(this.activeComponent=this.getActiveComponent(d),this.activeComponent)switch(a.key){case"Escape":if(this.activeComponent.isOpened)this.activeComponent.handlers.onEsc&&(this.activeComponent.handlers.onEsc(),a.preventDefault(),a.stopPropagation());else{const u=this.findClosestOpenParent(d);u?.handlers.onEsc&&(u.handlers.onEsc(),a.preventDefault(),a.stopPropagation())}break;case"Enter":this.activeComponent.handlers.onEnter&&(this.activeComponent.handlers.onEnter(),a.preventDefault(),a.stopPropagation());break;case" ":case"Space":if(d.tagName==="INPUT"||d.tagName==="TEXTAREA")return;this.activeComponent.handlers.onSpace&&(this.activeComponent.handlers.onSpace(),a.preventDefault(),a.stopPropagation());break;case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":if(this.activeComponent.handlers.onArrow){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;this.activeComponent.handlers.onArrow(a),a.preventDefault(),a.stopPropagation()}break;case"Tab":if(!this.activeComponent.handlers.onTab)break;const m=a.shiftKey?this.activeComponent.handlers.onShiftTab:this.activeComponent.handlers.onTab;m&&m();break;case"Home":this.activeComponent.handlers.onHome&&(this.activeComponent.handlers.onHome(),a.preventDefault(),a.stopPropagation());break;case"End":this.activeComponent.handlers.onEnd&&(this.activeComponent.handlers.onEnd(),a.preventDefault(),a.stopPropagation());break;default:this.activeComponent.handlers.onFirstLetter&&a.key.length===1&&/^[a-zA-Z]$/.test(a.key)&&(this.activeComponent.handlers.onFirstLetter(a.key),a.preventDefault(),a.stopPropagation())}}findClosestOpenParent(a){let d=a.parentElement;for(;d;){const m=this.currentlyOpenedComponents.find(u=>u.wrapper===d&&u!==this.activeComponent);if(m)return m;d=d.parentElement}return null}registerComponent(a,d,m=!0,u="",b="",k){const x={wrapper:a,handlers:d,isOpened:m,name:u,selector:b,context:k,isRegistered:!0};return this.components.push(x),x}updateComponentState(a,d){a.isOpened=d,d?this.currentlyOpenedComponents.includes(a)||this.currentlyOpenedComponents.push(a):this.currentlyOpenedComponents=this.currentlyOpenedComponents.filter(m=>m!==a)}unregisterComponent(a){this.components=this.components.filter(d=>d!==a),this.currentlyOpenedComponents=this.currentlyOpenedComponents.filter(d=>d!==a)}}},292:function(p,r){/*
 * @version: 3.2.1
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */Object.defineProperty(r,"__esModule",{value:!0}),r.stringToBoolean=r.menuSearchHistory=r.isScrollable=r.isParentOrElementHidden=r.isJson=r.isIpadOS=r.isIOS=r.isFormElement=r.isFocused=r.isEnoughSpace=r.isDirectChild=r.htmlToElement=r.getZIndex=r.getHighestZIndex=r.getClassPropertyAlt=r.getClassProperty=r.dispatch=r.debounce=r.classToClassList=r.afterTransition=void 0,r.stringToBoolean=u=>u==="true",r.getClassProperty=(u,b,k="")=>(window.getComputedStyle(u).getPropertyValue(b)||k).replace(" ",""),r.getClassPropertyAlt=(u,b,k="")=>{let x="";return u.classList.forEach(S=>{S.includes(b)&&(x=S)}),x.match(/:(.*)]/)?x.match(/:(.*)]/)[1]:k};const a=u=>window.getComputedStyle(u).getPropertyValue("z-index");r.getZIndex=a,r.getHighestZIndex=u=>{let b=Number.NEGATIVE_INFINITY;return u.forEach(k=>{let x=a(k);x!=="auto"&&(x=parseInt(x,10),x>b&&(b=x))}),b},r.isDirectChild=(u,b)=>{const k=u.children;for(let x=0;x<k.length;x++)if(k[x]===b)return!0;return!1},r.isEnoughSpace=(u,b,k="auto",x=10,S=null)=>{const A=b.getBoundingClientRect(),n=S?S.getBoundingClientRect():null,o=window.innerHeight,h=n?A.top-n.top:A.top,g=(S?n.bottom:o)-A.bottom,f=u.clientHeight+x;return k==="bottom"?g>=f:k==="top"?h>=f:h>=f||g>=f},r.isFocused=u=>document.activeElement===u,r.isFormElement=u=>u instanceof HTMLInputElement||u instanceof HTMLTextAreaElement||u instanceof HTMLSelectElement,r.isIOS=()=>!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),r.isIpadOS=()=>navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),r.isJson=u=>{if(typeof u!="string")return!1;const b=u.trim()[0],k=u.trim().slice(-1);if(b==="{"&&k==="}"||b==="["&&k==="]")try{return JSON.parse(u),!0}catch{return!1}return!1};const d=u=>u?window.getComputedStyle(u).display==="none"||d(u.parentElement):!1;r.isParentOrElementHidden=d,r.isScrollable=u=>{const b=window.getComputedStyle(u),k=b.overflowY,x=b.overflowX,S=(k==="scroll"||k==="auto")&&u.scrollHeight>u.clientHeight,A=(x==="scroll"||x==="auto")&&u.scrollWidth>u.clientWidth;return S||A},r.debounce=(u,b=200)=>{let k;return(...x)=>{clearTimeout(k),k=setTimeout(()=>{u.apply(this,x)},b)}},r.dispatch=(u,b,k=null)=>{const x=new CustomEvent(u,{detail:{payload:k},bubbles:!0,cancelable:!0,composed:!1});b.dispatchEvent(x)},r.afterTransition=(u,b)=>{const k=()=>{b(),u.removeEventListener("transitionend",k,!0)},x=window.getComputedStyle(u),S=x.getPropertyValue("transition-duration");x.getPropertyValue("transition-property")!=="none"&&parseFloat(S)>0?u.addEventListener("transitionend",k,!0):b()},r.htmlToElement=u=>{const b=document.createElement("template");return u=u.trim(),b.innerHTML=u,b.content.firstChild},r.classToClassList=(u,b,k=" ",x="add")=>{u.split(k).forEach(S=>{S.trim()&&(x==="add"?b.classList.add(S):b.classList.remove(S))})};const m={historyIndex:-1,addHistory(u){this.historyIndex=u},existsInHistory(u){return u>this.historyIndex},clearHistory(){this.historyIndex=-1}};r.menuSearchHistory=m},442:function(p,r,a){/*
 * HSSelect
 * @version: 3.2.1
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */var d=this&&this.__awaiter||function(A,n,o,h){return new(o||(o=Promise))(function(g,f){function w(T){try{y(h.next(T))}catch(c){f(c)}}function v(T){try{y(h.throw(T))}catch(c){f(c)}}function y(T){var c;T.done?g(T.value):(c=T.value,c instanceof o?c:new o(function(O){O(c)})).then(w,v)}y((h=h.apply(A,n||[])).next())})},m=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(r,"__esModule",{value:!0});const u=a(292),b=m(a(961)),k=m(a(248)),x=a(223);class S extends b.default{constructor(n,o){var h,g,f,w,v;super(n,o),this.disabledObserver=null,this.optionId=0;const y=n.getAttribute("data-hs-select"),T=y?JSON.parse(y):{},c=Object.assign(Object.assign({},T),o);this.value=c?.value||this.el.value||null,this.placeholder=c?.placeholder||"Select...",this.hasSearch=c?.hasSearch||!1,this.minSearchLength=(h=c?.minSearchLength)!==null&&h!==void 0?h:0,this.preventSearchFocus=c?.preventSearchFocus||!1,this.mode=c?.mode||"default",this.viewport=c?.viewport!==void 0?document.querySelector(c?.viewport):null,this._isOpened=!!c?.isOpened||!1,this.isMultiple=this.el.hasAttribute("multiple")||!1,this.isDisabled=this.el.hasAttribute("disabled")||!1,this.selectedItems=[],this.apiUrl=c?.apiUrl||null,this.apiQuery=c?.apiQuery||null,this.apiOptions=c?.apiOptions||null,this.apiSearchQueryKey=c?.apiSearchQueryKey||null,this.apiDataPart=c?.apiDataPart||null,this.apiLoadMore=c?.apiLoadMore===!0?{perPage:10,scrollThreshold:100}:typeof c?.apiLoadMore=="object"&&c?.apiLoadMore!==null&&{perPage:c.apiLoadMore.perPage||10,scrollThreshold:c.apiLoadMore.scrollThreshold||100},this.apiFieldsMap=c?.apiFieldsMap||null,this.apiIconTag=c?.apiIconTag||null,this.apiSelectedValues=c?.apiSelectedValues||null,this.currentPage=0,this.isLoading=!1,this.hasMore=!0,this.wrapperClasses=c?.wrapperClasses||null,this.toggleTag=c?.toggleTag||null,this.toggleClasses=c?.toggleClasses||null,this.toggleCountText=typeof c?.toggleCountText===void 0?null:c.toggleCountText,this.toggleCountTextPlacement=c?.toggleCountTextPlacement||"postfix",this.toggleCountTextMinItems=c?.toggleCountTextMinItems||1,this.toggleCountTextMode=c?.toggleCountTextMode||"countAfterLimit",this.toggleSeparators={items:((g=c?.toggleSeparators)===null||g===void 0?void 0:g.items)||", ",betweenItemsAndCounter:((f=c?.toggleSeparators)===null||f===void 0?void 0:f.betweenItemsAndCounter)||"and"},this.tagsItemTemplate=c?.tagsItemTemplate||null,this.tagsItemClasses=c?.tagsItemClasses||null,this.tagsInputId=c?.tagsInputId||null,this.tagsInputClasses=c?.tagsInputClasses||null,this.dropdownTag=c?.dropdownTag||null,this.dropdownClasses=c?.dropdownClasses||null,this.dropdownDirectionClasses=c?.dropdownDirectionClasses||null,this.dropdownSpace=c?.dropdownSpace||10,this.dropdownPlacement=c?.dropdownPlacement||null,this.dropdownVerticalFixedPlacement=c?.dropdownVerticalFixedPlacement||null,this.dropdownScope=c?.dropdownScope||"parent",this.dropdownAutoPlacement=c?.dropdownAutoPlacement||!1,this.searchTemplate=c?.searchTemplate||null,this.searchWrapperTemplate=c?.searchWrapperTemplate||null,this.searchWrapperClasses=c?.searchWrapperClasses||"bg-white p-2 sticky top-0",this.searchId=c?.searchId||null,this.searchLimit=c?.searchLimit||1/0,this.isSearchDirectMatch=c?.isSearchDirectMatch===void 0||c?.isSearchDirectMatch,this.searchClasses=c?.searchClasses||"block w-[calc(100%-32px)] text-sm border-gray-200 rounded-md focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 py-2 px-3 my-2 mx-4",this.searchPlaceholder=c?.searchPlaceholder||"Search...",this.searchNoResultTemplate=c?.searchNoResultTemplate||"<span></span>",this.searchNoResultText=c?.searchNoResultText||"No results found",this.searchNoResultClasses=c?.searchNoResultClasses||"px-4 text-sm text-gray-800 dark:text-neutral-200",this.optionAllowEmptyOption=c?.optionAllowEmptyOption!==void 0&&c?.optionAllowEmptyOption,this.optionTemplate=c?.optionTemplate||null,this.optionTag=c?.optionTag||null,this.optionClasses=c?.optionClasses||null,this.extraMarkup=c?.extraMarkup||null,this.descriptionClasses=c?.descriptionClasses||null,this.iconClasses=c?.iconClasses||null,this.isAddTagOnEnter=(w=c?.isAddTagOnEnter)===null||w===void 0||w,this.isSelectedOptionOnTop=(v=c?.isSelectedOptionOnTop)!==null&&v!==void 0&&v,this.animationInProcess=!1,this.selectOptions=[],this.remoteOptions=[],this.tagsInputHelper=null,this.disabledObserver=new MutationObserver(O=>{O.some(L=>L.attributeName==="disabled")&&this.setDisabledState(this.el.hasAttribute("disabled"))}),this.disabledObserver.observe(this.el,{attributes:!0,attributeFilter:["disabled"]}),this.init()}wrapperClick(n){n.target.closest("[data-hs-select-dropdown]")||n.target.closest("[data-tag-value]")||this.tagsInput.focus()}toggleClick(){if(this.isDisabled)return!1;this.toggleFn()}tagsInputFocus(){this._isOpened||this.open()}tagsInputInput(){this.calculateInputWidth()}tagsInputInputSecond(n){this.apiUrl||this.searchOptions(n.target.value)}tagsInputKeydown(n){if(n.key==="Enter"&&this.isAddTagOnEnter){const o=n.target.value;if(this.selectOptions.find(h=>h.val===o))return!1;this.addSelectOption(o,o),this.buildOption(o,o),this.buildOriginalOption(o,o),this.dropdown.querySelector(`[data-value="${o}"]`).click(),this.resetTagsInputField()}}searchInput(n){const o=n.target.value;this.apiUrl?this.remoteSearch(o):this.searchOptions(o)}setValue(n){this.value=n,this.clearSelections(),Array.isArray(n)?this.mode==="tags"?(this.unselectMultipleItems(),this.selectMultipleItems(),this.selectedItems=[],this.wrapper.querySelectorAll("[data-tag-value]").forEach(o=>o.remove()),this.setTagsItems(),this.reassignTagsInputPlaceholder(this.hasValue()?"":this.placeholder)):(this.toggleTextWrapper.innerHTML=this.hasValue()?this.stringFromValue():this.placeholder,this.unselectMultipleItems(),this.selectMultipleItems()):(this.setToggleTitle(),this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.selectSingleItem())}setDisabledState(n){this.isDisabled=n;const o=this.mode==="tags"?this.wrapper:this.toggle;o?.classList.toggle("disabled",n),n&&this.isOpened()&&this.close()}hasValue(){return this.isMultiple?Array.isArray(this.value)&&this.value.length>0&&this.value.some(n=>n!=null&&n!==""):this.value!==null&&this.value!==void 0&&this.value!==""}init(){this.createCollection(window.$hsSelectCollection,this),this.build(),typeof window<"u"&&(window.HSAccessibilityObserver||(window.HSAccessibilityObserver=new k.default),this.setupAccessibility())}build(){if(this.el.style.display="none",this.el.children&&Array.from(this.el.children).filter(n=>this.optionAllowEmptyOption||!this.optionAllowEmptyOption&&n.value&&n.value!=="").forEach(n=>{const o=n.getAttribute("data-hs-select-option");this.selectOptions=[...this.selectOptions,{title:n.textContent,val:n.value,disabled:n.disabled,options:o!=="undefined"?JSON.parse(o):null}]}),this.optionAllowEmptyOption&&!this.value&&(this.value=""),this.isMultiple){const n=Array.from(this.el.children).filter(h=>h.selected),o=[];n.forEach(h=>{o.push(h.value)}),this.value=o}this.buildWrapper(),this.mode==="tags"?this.buildTags():this.buildToggle(),this.buildDropdown(),this.extraMarkup&&this.buildExtraMarkup()}buildWrapper(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("hs-select","relative"),this.setDisabledState(this.isDisabled),this.mode==="tags"&&(this.onWrapperClickListener=n=>this.wrapperClick(n),this.wrapper.addEventListener("click",this.onWrapperClickListener)),this.wrapperClasses&&(0,u.classToClassList)(this.wrapperClasses,this.wrapper),this.el.before(this.wrapper),this.wrapper.append(this.el)}buildExtraMarkup(){const n=h=>{const g=(0,u.htmlToElement)(h);return this.wrapper.append(g),g},o=h=>{h.classList.contains("--prevent-click")||h.addEventListener("click",g=>{g.stopPropagation(),this.isDisabled||this.toggleFn()})};if(Array.isArray(this.extraMarkup))this.extraMarkup.forEach(h=>{const g=n(h);o(g)});else{const h=n(this.extraMarkup);o(h)}}buildToggle(){var n,o;let h,g;this.toggleTextWrapper=document.createElement("span"),this.toggleTextWrapper.classList.add("truncate"),this.toggle=(0,u.htmlToElement)(this.toggleTag||"<div></div>"),h=this.toggle.querySelector("[data-icon]"),g=this.toggle.querySelector("[data-title]"),!this.isMultiple&&h&&this.setToggleIcon(),!this.isMultiple&&g&&this.setToggleTitle(),this.isMultiple?this.toggleTextWrapper.innerHTML=this.hasValue()?this.stringFromValue():this.placeholder:this.toggleTextWrapper.innerHTML=((n=this.getItemByValue(this.value))===null||n===void 0?void 0:n.title)||this.placeholder,g||this.toggle.append(this.toggleTextWrapper),this.toggleClasses&&(0,u.classToClassList)(this.toggleClasses,this.toggle),this.isDisabled&&this.toggle.classList.add("disabled"),this.wrapper&&this.wrapper.append(this.toggle),!((o=this.toggle)===null||o===void 0)&&o.ariaExpanded&&(this._isOpened?this.toggle.ariaExpanded="true":this.toggle.ariaExpanded="false"),this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)}setToggleIcon(){var n;const o=this.getItemByValue(this.value),h=this.toggle.querySelector("[data-icon]");if(h){h.innerHTML="";const g=(0,u.htmlToElement)(this.apiUrl&&this.apiIconTag?this.apiIconTag||"":((n=o?.options)===null||n===void 0?void 0:n.icon)||"");this.value&&this.apiUrl&&this.apiIconTag&&o[this.apiFieldsMap.icon]&&(g.src=o[this.apiFieldsMap.icon]||""),h.append(g),g?.src?h.classList.remove("hidden"):h.classList.add("hidden")}}setToggleTitle(){const n=this.toggle.querySelector("[data-title]");let o=this.placeholder;if(this.optionAllowEmptyOption&&this.value===""){const h=this.selectOptions.find(g=>g.val==="");o=h?.title||this.placeholder}else if(this.value)if(this.apiUrl){const h=this.remoteOptions.find(g=>`${g[this.apiFieldsMap.val]}`===this.value||`${g[this.apiFieldsMap.title]}`===this.value);h&&(o=h[this.apiFieldsMap.title])}else{const h=this.selectOptions.find(g=>g.val===this.value);h&&(o=h.title)}n?(n.innerHTML=o,n.classList.add("truncate"),this.toggle.append(n)):this.toggleTextWrapper.innerHTML=o}buildTags(){this.isDisabled&&this.wrapper.classList.add("disabled"),this.wrapper.setAttribute("tabindex","0"),this.buildTagsInput(),this.setTagsItems()}reassignTagsInputPlaceholder(n){this.tagsInput.placeholder=n,this.tagsInputHelper.innerHTML=n,this.calculateInputWidth()}buildTagsItem(n){var o,h,g,f,w;const v=this.getItemByValue(n);let y,T,c,O;const L=document.createElement("div");if(L.setAttribute("data-tag-value",n),this.tagsItemClasses&&(0,u.classToClassList)(this.tagsItemClasses,L),this.tagsItemTemplate&&(y=(0,u.htmlToElement)(this.tagsItemTemplate),L.append(y)),((o=v?.options)===null||o===void 0?void 0:o.icon)||this.apiIconTag){const E=(0,u.htmlToElement)(this.apiUrl&&this.apiIconTag?this.apiIconTag:(h=v?.options)===null||h===void 0?void 0:h.icon);this.apiUrl&&this.apiIconTag&&v[this.apiFieldsMap.icon]&&(E.src=v[this.apiFieldsMap.icon]||""),O=y?y.querySelector("[data-icon]"):document.createElement("span"),O.append(E),y||L.append(O)}!y||!y.querySelector("[data-icon]")||!((g=v?.options)===null||g===void 0)&&g.icon||this.apiUrl||this.apiIconTag||v[(f=this.apiFieldsMap)===null||f===void 0?void 0:f.icon]||y.querySelector("[data-icon]").classList.add("hidden"),T=y?y.querySelector("[data-title]"):document.createElement("span"),this.apiUrl&&(!((w=this.apiFieldsMap)===null||w===void 0)&&w.title)&&v[this.apiFieldsMap.title]?T.textContent=v[this.apiFieldsMap.title]:T.textContent=v.title||"",y||L.append(T),y?c=y.querySelector("[data-remove]"):(c=document.createElement("span"),c.textContent="X",L.append(c)),c.addEventListener("click",()=>{this.value=this.value.filter(E=>E!==n),this.selectedItems=this.selectedItems.filter(E=>E!==n),this.hasValue()||this.reassignTagsInputPlaceholder(this.placeholder),this.unselectMultipleItems(),this.selectMultipleItems(),L.remove(),this.triggerChangeEventForNativeSelect()}),this.wrapper.append(L)}getItemByValue(n){return this.apiUrl?this.remoteOptions.find(o=>`${o[this.apiFieldsMap.val]}`===n||o[this.apiFieldsMap.title]===n):this.selectOptions.find(o=>o.val===n)}setTagsItems(){this.value&&(Array.isArray(this.value)?this.value:this.value!=null?[this.value]:[]).forEach(n=>{this.selectedItems.includes(n)||this.buildTagsItem(n),this.selectedItems=this.selectedItems.includes(n)?this.selectedItems:[...this.selectedItems,n]}),this._isOpened&&this.floatingUIInstance&&this.floatingUIInstance.update()}buildTagsInput(){this.tagsInput=document.createElement("input"),this.tagsInputId&&(this.tagsInput.id=this.tagsInputId),this.tagsInputClasses&&(0,u.classToClassList)(this.tagsInputClasses,this.tagsInput),this.tagsInput.setAttribute("tabindex","-1"),this.onTagsInputFocusListener=()=>this.tagsInputFocus(),this.onTagsInputInputListener=()=>this.tagsInputInput(),this.onTagsInputInputSecondListener=(0,u.debounce)(n=>this.tagsInputInputSecond(n)),this.onTagsInputKeydownListener=n=>this.tagsInputKeydown(n),this.tagsInput.addEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.addEventListener("input",this.onTagsInputInputListener),this.tagsInput.addEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.addEventListener("keydown",this.onTagsInputKeydownListener),this.wrapper.append(this.tagsInput),setTimeout(()=>{this.adjustInputWidth(),this.reassignTagsInputPlaceholder(this.hasValue()?"":this.placeholder)})}buildDropdown(){this.dropdown=(0,u.htmlToElement)(this.dropdownTag||"<div></div>"),this.dropdown.setAttribute("data-hs-select-dropdown",""),this.dropdownScope==="parent"&&(this.dropdown.classList.add("absolute"),this.dropdownVerticalFixedPlacement||this.dropdown.classList.add("top-full")),this.dropdown.role="listbox",this.dropdown.tabIndex=-1,this.dropdown.ariaOrientation="vertical",this._isOpened||this.dropdown.classList.add("hidden"),this.dropdownClasses&&(0,u.classToClassList)(this.dropdownClasses,this.dropdown),this.wrapper&&this.wrapper.append(this.dropdown),this.dropdown&&this.hasSearch&&this.buildSearch(),this.selectOptions&&this.selectOptions.forEach((n,o)=>this.buildOption(n.title,n.val,n.disabled,n.selected,n.options,`${o}`)),this.apiUrl&&this.optionsFromRemoteData(),this.apiUrl||(this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")),this.dropdownScope==="window"&&this.buildFloatingUI(),this.dropdown&&this.apiLoadMore&&this.setupInfiniteScroll()}setupInfiniteScroll(){this.dropdown.addEventListener("scroll",this.handleScroll.bind(this))}handleScroll(){return d(this,void 0,void 0,function*(){if(!this.dropdown||this.isLoading||!this.hasMore||!this.apiLoadMore)return;const{scrollTop:n,scrollHeight:o,clientHeight:h}=this.dropdown;o-n-h<(typeof this.apiLoadMore=="object"?this.apiLoadMore.scrollThreshold:100)&&(yield this.loadMore())})}loadMore(){return d(this,void 0,void 0,function*(){var n,o,h,g;if(this.apiUrl&&!this.isLoading&&this.hasMore&&this.apiLoadMore){this.isLoading=!0;try{const f=new URL(this.apiUrl),w=((n=this.apiFieldsMap)===null||n===void 0?void 0:n.page)||((o=this.apiFieldsMap)===null||o===void 0?void 0:o.offset)||"page",v=!!(!((h=this.apiFieldsMap)===null||h===void 0)&&h.offset),y=typeof this.apiLoadMore=="object"?this.apiLoadMore.perPage:10;if(v){const M=this.currentPage*y;f.searchParams.set(w,M.toString()),this.currentPage++}else this.currentPage++,f.searchParams.set(w,this.currentPage.toString());f.searchParams.set(((g=this.apiFieldsMap)===null||g===void 0?void 0:g.limit)||"limit",y.toString());const T=yield fetch(f.toString(),this.apiOptions||{}),c=yield T.json(),O=this.apiDataPart?c[this.apiDataPart]:c.results,L=c.count||0,E=this.currentPage*y;O&&O.length>0?(this.remoteOptions=[...this.remoteOptions||[],...O],this.buildOptionsFromRemoteData(O),this.hasMore=E<L):this.hasMore=!1}catch(f){this.hasMore=!1,console.error("Error loading more options:",f)}finally{this.isLoading=!1}}})}buildFloatingUI(){if(typeof FloatingUIDOM<"u"&&FloatingUIDOM.computePosition){document.body.appendChild(this.dropdown);const n=this.mode==="tags"?this.wrapper:this.toggle,o=[FloatingUIDOM.offset([0,5])];this.dropdownAutoPlacement&&typeof FloatingUIDOM.flip=="function"&&o.push(FloatingUIDOM.flip({fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"]}));const h={placement:x.POSITIONS[this.dropdownPlacement]||"bottom",strategy:"fixed",middleware:o},g=()=>{FloatingUIDOM.computePosition(n,this.dropdown,h).then(({x:w,y:v,placement:y})=>{Object.assign(this.dropdown.style,{position:"fixed",left:`${w}px`,top:`${v}px`,["margin"+(y==="bottom"?"Top":y==="top"?"Bottom":y==="right"?"Left":"Right")]:`${this.dropdownSpace}px`}),this.dropdown.setAttribute("data-placement",y)})};g();const f=FloatingUIDOM.autoUpdate(n,this.dropdown,g);this.floatingUIInstance={update:g,destroy:f}}else console.error("FloatingUIDOM not found! Please enable it on the page.")}updateDropdownWidth(){const n=this.mode==="tags"?this.wrapper:this.toggle;this.dropdown.style.width=`${n.clientWidth}px`}buildSearch(){let n;this.searchWrapper=(0,u.htmlToElement)(this.searchWrapperTemplate||"<div></div>"),this.searchWrapperClasses&&(0,u.classToClassList)(this.searchWrapperClasses,this.searchWrapper),n=this.searchWrapper.querySelector("[data-input]");const o=(0,u.htmlToElement)(this.searchTemplate||'<input type="text">');this.search=o.tagName==="INPUT"?o:o.querySelector(":scope input"),this.search.placeholder=this.searchPlaceholder,this.searchClasses&&(0,u.classToClassList)(this.searchClasses,this.search),this.searchId&&(this.search.id=this.searchId),this.onSearchInputListener=(0,u.debounce)(h=>this.searchInput(h)),this.search.addEventListener("input",this.onSearchInputListener),n?n.append(o):this.searchWrapper.append(o),this.dropdown.append(this.searchWrapper)}buildOption(n,o,h=!1,g=!1,f,w="1",v){var y;let T=null,c=null,O=null,L=null;const E=(0,u.htmlToElement)(this.optionTag||"<div></div>");if(E.setAttribute("data-value",o),E.setAttribute("data-title-value",n),E.setAttribute("tabIndex",w),E.classList.add("cursor-pointer"),E.setAttribute("data-id",v||`${this.optionId}`),v||this.optionId++,h&&E.classList.add("disabled"),g&&(this.isMultiple?this.value=[...this.value,o]:this.value=o),this.optionTemplate&&(T=(0,u.htmlToElement)(this.optionTemplate),E.append(T)),T?(c=T.querySelector("[data-title]"),c.textContent=n||""):E.textContent=n||"",f){if(f.icon){const M=(0,u.htmlToElement)((y=this.apiIconTag)!==null&&y!==void 0?y:f.icon);if(M.classList.add("max-w-full"),this.apiUrl&&(M.setAttribute("alt",n),M.setAttribute("src",f.icon)),T)O=T.querySelector("[data-icon]"),O.append(M);else{const z=(0,u.htmlToElement)("<div></div>");this.iconClasses&&(0,u.classToClassList)(this.iconClasses,z),z.append(M),E.append(z)}}if(f.description)if(T)L=T.querySelector("[data-description]"),L&&L.append(f.description);else{const M=(0,u.htmlToElement)("<div></div>");M.textContent=f.description,this.descriptionClasses&&(0,u.classToClassList)(this.descriptionClasses,M),E.append(M)}}T&&T.querySelector("[data-icon]")&&!f&&!f?.icon&&T.querySelector("[data-icon]").classList.add("hidden"),this.value&&(this.isMultiple?this.value.includes(o):this.value===o)&&E.classList.add("selected"),h||E.addEventListener("click",()=>this.onSelectOption(o)),this.optionClasses&&(0,u.classToClassList)(this.optionClasses,E),this.dropdown&&this.dropdown.append(E),g&&this.setNewValue()}buildOptionFromRemoteData(n,o,h=!1,g=!1,f="1",w,v){f?this.buildOption(n,o,h,g,v,f,w):alert("ID parameter is required for generating remote options! Please check your API endpoint have it.")}buildOptionsFromRemoteData(n){n.forEach((o,h)=>{let g=null,f="",w="";const v={id:"",val:"",title:"",icon:null,description:null,rest:{}};if(Object.keys(o).forEach(y=>{var T;o[this.apiFieldsMap.id]&&(g=o[this.apiFieldsMap.id]),o[this.apiFieldsMap.val]&&(w=`${o[this.apiFieldsMap.val]}`),o[this.apiFieldsMap.title]&&(f=o[this.apiFieldsMap.title],o[this.apiFieldsMap.val]||(w=f)),o[this.apiFieldsMap.icon]&&(v.icon=o[this.apiFieldsMap.icon]),o[(T=this.apiFieldsMap)===null||T===void 0?void 0:T.description]&&(v.description=o[this.apiFieldsMap.description]),v.rest[y]=o[y]}),!this.dropdown.querySelector(`[data-value="${w}"]`)){const y=!!this.apiSelectedValues&&(Array.isArray(this.apiSelectedValues)?this.apiSelectedValues.includes(w):this.apiSelectedValues===w);this.buildOriginalOption(f,w,g,!1,y,v),this.buildOptionFromRemoteData(f,w,!1,y,`${h}`,g,v),y&&(this.isMultiple?(this.value||(this.value=[]),Array.isArray(this.value)&&(this.value=[...this.value,w])):this.value=w)}}),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}optionsFromRemoteData(){return d(this,arguments,void 0,function*(n=""){const o=yield this.apiRequest(n);this.remoteOptions=o,o.length?this.buildOptionsFromRemoteData(this.remoteOptions):console.log("There is no data were responded!")})}apiRequest(){return d(this,arguments,void 0,function*(n=""){var o,h,g,f,w,v,y,T,c,O;try{const L=new URL(this.apiUrl),E=new URLSearchParams((o=this.apiQuery)!==null&&o!==void 0?o:""),M=(h=this.apiOptions)!==null&&h!==void 0?h:{},z=(g=this.apiSearchQueryKey)!==null&&g!==void 0?g:"q",de=(n??"").trim().toLowerCase();if(de!==""&&E.set(z,encodeURIComponent(de)),this.apiLoadMore){const De=typeof this.apiLoadMore=="object"?this.apiLoadMore.perPage:10,ge=(y=(w=(f=this.apiFieldsMap)===null||f===void 0?void 0:f.page)!==null&&w!==void 0?w:(v=this.apiFieldsMap)===null||v===void 0?void 0:v.offset)!==null&&y!==void 0?y:"page",fe=(c=(T=this.apiFieldsMap)===null||T===void 0?void 0:T.limit)!==null&&c!==void 0?c:"limit",qe=!!(!((O=this.apiFieldsMap)===null||O===void 0)&&O.offset);E.delete(ge),E.delete(fe),E.set(ge,qe?"0":"1"),E.set(fe,String(De))}L.search=E.toString();const Fe=yield fetch(L.toString(),M),ue=yield Fe.json();return this.apiDataPart?ue[this.apiDataPart]:ue}catch(L){console.error(L)}})}sortElements(n,o){const h=Array.from(n.querySelectorAll(o));this.isSelectedOptionOnTop&&h.sort((g,f)=>{const w=g.classList.contains("selected")||g.hasAttribute("selected"),v=f.classList.contains("selected")||f.hasAttribute("selected");return w&&!v?-1:!w&&v?1:0}),h.forEach(g=>n.appendChild(g))}remoteSearch(n){return d(this,void 0,void 0,function*(){if(n.length<=this.minSearchLength){const w=yield this.apiRequest("");return this.remoteOptions=w,Array.from(this.dropdown.querySelectorAll("[data-value]")).forEach(v=>v.remove()),Array.from(this.el.querySelectorAll("option[value]")).forEach(v=>{v.remove()}),w.length?this.buildOptionsFromRemoteData(w):console.log("No data responded!"),!1}const o=yield this.apiRequest(n);this.remoteOptions=o;let h=o.map(w=>`${w.id}`),g=null;const f=this.dropdown.querySelectorAll("[data-value]");this.el.querySelectorAll("[data-hs-select-option]").forEach(w=>{var v;const y=w.getAttribute("data-id");h.includes(y)||!((v=this.value)===null||v===void 0)&&v.includes(w.value)||this.destroyOriginalOption(w.value)}),f.forEach(w=>{var v;const y=w.getAttribute("data-id");h.includes(y)||!((v=this.value)===null||v===void 0)&&v.includes(w.getAttribute("data-value"))?h=h.filter(T=>T!==y):this.destroyOption(w.getAttribute("data-value"))}),g=o.filter(w=>h.includes(`${w.id}`)),g.length?this.buildOptionsFromRemoteData(g):console.log("No data responded!")})}destroyOption(n){const o=this.dropdown.querySelector(`[data-value="${n}"]`);if(!o)return!1;o.remove()}buildOriginalOption(n,o,h,g,f,w){const v=(0,u.htmlToElement)("<option></option>");v.setAttribute("value",o),g&&v.setAttribute("disabled","disabled"),f&&v.setAttribute("selected","selected"),h&&v.setAttribute("data-id",h),v.setAttribute("data-hs-select-option",JSON.stringify(w)),v.innerText=n,this.el.append(v)}destroyOriginalOption(n){const o=this.el.querySelector(`[value="${n}"]`);if(!o)return!1;o.remove()}buildTagsInputHelper(){this.tagsInputHelper=document.createElement("span"),this.tagsInputHelper.style.fontSize=window.getComputedStyle(this.tagsInput).fontSize,this.tagsInputHelper.style.fontFamily=window.getComputedStyle(this.tagsInput).fontFamily,this.tagsInputHelper.style.fontWeight=window.getComputedStyle(this.tagsInput).fontWeight,this.tagsInputHelper.style.letterSpacing=window.getComputedStyle(this.tagsInput).letterSpacing,this.tagsInputHelper.style.visibility="hidden",this.tagsInputHelper.style.whiteSpace="pre",this.tagsInputHelper.style.position="absolute",this.wrapper.appendChild(this.tagsInputHelper)}calculateInputWidth(){this.tagsInputHelper.textContent=this.tagsInput.value||this.tagsInput.placeholder;const n=parseInt(window.getComputedStyle(this.tagsInput).paddingLeft)+parseInt(window.getComputedStyle(this.tagsInput).paddingRight),o=parseInt(window.getComputedStyle(this.tagsInput).borderLeftWidth)+parseInt(window.getComputedStyle(this.tagsInput).borderRightWidth),h=this.tagsInputHelper.offsetWidth+n+o,g=this.wrapper.offsetWidth-(parseInt(window.getComputedStyle(this.wrapper).paddingLeft)+parseInt(window.getComputedStyle(this.wrapper).paddingRight));this.tagsInput.style.width=`${Math.min(h,g)+2}px`}adjustInputWidth(){this.buildTagsInputHelper(),this.calculateInputWidth()}onSelectOption(n){if(this.clearSelections(),this.isMultiple?(Array.isArray(this.value)||(this.value=[]),this.value=this.value.includes(n)?this.value.filter(o=>o!==n):[...this.value,n],this.selectMultipleItems(),this.setNewValue()):(this.value=n,this.selectSingleItem(),this.setNewValue()),this.fireEvent("change",this.value),this.mode==="tags"){const o=this.selectedItems.filter(h=>!this.value.includes(h));o.length&&o.forEach(h=>{this.selectedItems=this.selectedItems.filter(g=>g!==h),this.wrapper.querySelector(`[data-tag-value="${h}"]`).remove()}),this.resetTagsInputField()}this.isMultiple||(this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.close(!0)),this.hasValue()||this.mode!=="tags"||this.reassignTagsInputPlaceholder(this.placeholder),this._isOpened&&this.mode==="tags"&&this.tagsInput&&this.tagsInput.focus(),this.triggerChangeEventForNativeSelect()}triggerChangeEventForNativeSelect(){const n=new Event("change",{bubbles:!0});this.el.dispatchEvent(n),(0,u.dispatch)("change.hs.select",this.el,this.value)}addSelectOption(n,o,h,g,f){this.selectOptions=[...this.selectOptions,{title:n,val:o,disabled:h,selected:g,options:f}]}removeSelectOption(n,o=!1){if(!this.selectOptions.some(h=>h.val===n))return!1;this.selectOptions=this.selectOptions.filter(h=>h.val!==n),this.value=o?this.value.filter(h=>h!==n):n}resetTagsInputField(){this.tagsInput.value="",this.reassignTagsInputPlaceholder(""),this.searchOptions("")}clearSelections(){Array.from(this.dropdown.children).forEach(n=>{n.classList.contains("selected")&&n.classList.remove("selected")}),Array.from(this.el.children).forEach(n=>{n.selected&&(n.selected=!1)})}setNewValue(){if(this.mode==="tags")this.setTagsItems();else if(this.optionAllowEmptyOption&&this.value===""){const n=this.selectOptions.find(o=>o.val==="");this.toggleTextWrapper.innerHTML=n?.title||this.placeholder}else if(this.hasValue())if(this.apiUrl){const n=this.dropdown.querySelector(`[data-value="${this.value}"]`);if(n)this.toggleTextWrapper.innerHTML=n.getAttribute("data-title-value")||this.placeholder;else{const o=this.remoteOptions.find(h=>(h[this.apiFieldsMap.val]?`${h[this.apiFieldsMap.val]}`:h[this.apiFieldsMap.title])===this.value);this.toggleTextWrapper.innerHTML=o?`${o[this.apiFieldsMap.title]}`:this.stringFromValue()}}else this.toggleTextWrapper.innerHTML=this.stringFromValue();else this.toggleTextWrapper.innerHTML=this.placeholder}stringFromValueBasic(n){var o;const h=[];let g="";if(n.forEach(f=>{this.isMultiple?Array.isArray(this.value)&&this.value.includes(f.val)&&h.push(f.title):this.value===f.val&&h.push(f.title)}),this.toggleCountText!==void 0&&this.toggleCountText!==null&&h.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const f=h.slice(0,this.toggleCountTextMinItems-1),w=[f.join(this.toggleSeparators.items)],v=""+(h.length-f.length);if(!((o=this==null?void 0:this.toggleSeparators)===null||o===void 0)&&o.betweenItemsAndCounter&&w.push(this.toggleSeparators.betweenItemsAndCounter),this.toggleCountText)switch(this.toggleCountTextPlacement){case"postfix-no-space":w.push(`${v}${this.toggleCountText}`);break;case"prefix-no-space":w.push(`${this.toggleCountText}${v}`);break;case"prefix":w.push(`${this.toggleCountText} ${v}`);break;default:w.push(`${v} ${this.toggleCountText}`)}g=w.join(" ")}else g=`${h.length} ${this.toggleCountText}`;else g=h.join(this.toggleSeparators.items);return g}stringFromValueRemoteData(){const n=this.dropdown.querySelectorAll("[data-title-value]"),o=[];let h="";if(n.forEach(g=>{const f=g.getAttribute("data-value"),w=g.getAttribute("data-title-value");this.isMultiple?Array.isArray(this.value)&&this.value.includes(f)&&o.push(w):this.value===f&&o.push(w)}),this.toggleCountText&&this.toggleCountText!==""&&o.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const g=o.slice(0,this.toggleCountTextMinItems-1);h=`${g.join(this.toggleSeparators.items)} ${this.toggleSeparators.betweenItemsAndCounter} ${o.length-g.length} ${this.toggleCountText}`}else h=`${o.length} ${this.toggleCountText}`;else h=o.join(this.toggleSeparators.items);return h}stringFromValue(){return this.apiUrl?this.stringFromValueRemoteData():this.stringFromValueBasic(this.selectOptions)}selectSingleItem(){Array.from(this.el.children).find(o=>this.value===o.value).selected=!0;const n=Array.from(this.dropdown.children).find(o=>this.value===o.getAttribute("data-value"));n&&n.classList.add("selected"),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}selectMultipleItems(){Array.isArray(this.value)&&(Array.from(this.dropdown.children).filter(n=>this.value.includes(n.getAttribute("data-value"))).forEach(n=>n.classList.add("selected")),Array.from(this.el.children).filter(n=>this.value.includes(n.value)).forEach(n=>n.selected=!0),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]"))}unselectMultipleItems(){Array.from(this.dropdown.children).forEach(n=>n.classList.remove("selected")),Array.from(this.el.children).forEach(n=>n.selected=!1),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}searchOptions(n){if(n.length<=this.minSearchLength)return this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.dropdown.querySelectorAll("[data-value]").forEach(f=>{f.classList.remove("hidden")}),!1;this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.searchNoResult=(0,u.htmlToElement)(this.searchNoResultTemplate),this.searchNoResult.innerText=this.searchNoResultText,(0,u.classToClassList)(this.searchNoResultClasses,this.searchNoResult);const o=this.dropdown.querySelectorAll("[data-value]");let h,g=!1;this.searchLimit&&(h=0),o.forEach(f=>{const w=f.getAttribute("data-title-value").toLocaleLowerCase();let v;if(this.isSearchDirectMatch)v=!w.includes(n.toLowerCase())||this.searchLimit&&h>=this.searchLimit;else{const y=n?n.split("").map(T=>/\w/.test(T)?`${T}[\\W_]*`:"\\W*").join(""):"";v=!new RegExp(y,"i").test(w.trim())||this.searchLimit&&h>=this.searchLimit}v?f.classList.add("hidden"):(f.classList.remove("hidden"),g=!0,this.searchLimit&&h++)}),g||this.dropdown.append(this.searchNoResult)}eraseToggleIcon(){const n=this.toggle.querySelector("[data-icon]");n&&(n.innerHTML=null,n.classList.add("hidden"))}eraseToggleTitle(){const n=this.toggle.querySelector("[data-title]");n?n.innerHTML=this.placeholder:this.toggleTextWrapper.innerHTML=this.placeholder}toggleFn(){this._isOpened?this.close():this.open()}setupAccessibility(){this.accessibilityComponent=window.HSAccessibilityObserver.registerComponent(this.wrapper,{onEnter:()=>{if(this._isOpened){const n=this.dropdown.querySelector(".hs-select-option-highlighted");n&&(this.onSelectOption(n.getAttribute("data-value")||""),this._isOpened&&n.focus())}else this.open()},onSpace:()=>{if(this._isOpened){const n=this.dropdown.querySelector(".hs-select-option-highlighted");n&&(this.onSelectOption(n.getAttribute("data-value")||""),this._isOpened&&n.focus())}else this.open()},onEsc:()=>{this._isOpened&&this.close(!0)},onArrow:n=>{if(!n.metaKey)if(this._isOpened||n.key!=="ArrowDown"){if(this._isOpened)switch(n.key){case"ArrowDown":this.focusMenuItem("next");break;case"ArrowUp":this.focusMenuItem("prev");break;case"Home":this.onStartEnd(!0);break;case"End":this.onStartEnd(!1)}}else this.open()},onHome:()=>{this._isOpened&&this.onStartEnd(!0)},onEnd:()=>{this._isOpened&&this.onStartEnd(!1)},onTab:()=>{this._isOpened&&this.close()}},this._isOpened,"Select",".hs-select",this.dropdown)}focusMenuItem(n){const o=Array.from(this.dropdown.querySelectorAll(":scope > *:not(.hidden)")).filter(w=>!w.classList.contains("disabled"));if(!o.length)return;const h=this.dropdown.querySelector(".hs-select-option-highlighted"),g=h?o.indexOf(h):-1,f=n==="next"?(g+1)%o.length:(g-1+o.length)%o.length;h&&h.classList.remove("hs-select-option-highlighted"),o[f].classList.add("hs-select-option-highlighted"),o[f].focus()}onStartEnd(n=!0){if(!this.dropdown)return;const o=Array.from(this.dropdown.querySelectorAll(":scope > *:not(.hidden)")).filter(f=>!f.classList.contains("disabled"));if(!o.length)return;const h=this.dropdown.querySelector(".hs-select-option-highlighted");h&&h.classList.remove("hs-select-option-highlighted");const g=n?0:o.length-1;o[g].classList.add("hs-select-option-highlighted"),o[g].focus()}destroy(){var n;this.wrapper&&this.wrapper.removeEventListener("click",this.onWrapperClickListener),this.toggle&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.tagsInput&&(this.tagsInput.removeEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.removeEventListener("keydown",this.onTagsInputKeydownListener)),this.search&&this.search.removeEventListener("input",this.onSearchInputListener);const o=this.el.parentElement.parentElement;this.el.classList.add("hidden"),this.el.style.display="",o.prepend(this.el),o.querySelector(".hs-select").remove(),this.wrapper=null,(n=this.disabledObserver)===null||n===void 0||n.disconnect(),this.disabledObserver=null,window.$hsSelectCollection=window.$hsSelectCollection.filter(({element:h})=>h.el!==this.el)}open(){var n;const o=((n=window?.$hsSelectCollection)===null||n===void 0?void 0:n.find(h=>h.element.isOpened()))||null;if(o&&o.element.close(),this.animationInProcess)return!1;this.animationInProcess=!0,this.dropdownScope==="window"&&this.dropdown.classList.add("invisible"),this.dropdown.classList.remove("hidden"),this.dropdownScope!=="window"&&this.recalculateDirection(),setTimeout(()=>{var h;!((h=this==null?void 0:this.toggle)===null||h===void 0)&&h.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.wrapper.classList.add("active"),this.dropdown.classList.add("opened"),this.dropdown.classList.contains("w-full")&&this.dropdownScope==="window"&&this.updateDropdownWidth(),this.floatingUIInstance&&this.dropdownScope==="window"&&(this.floatingUIInstance.update(),this.dropdown.classList.remove("invisible")),this.hasSearch&&!this.preventSearchFocus&&this.search.focus(),this.animationInProcess=!1}),this._isOpened=!0,window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,this._isOpened)}close(n=!1){var o,h,g,f;if(this.animationInProcess)return!1;this.animationInProcess=!0,!((o=this==null?void 0:this.toggle)===null||o===void 0)&&o.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.wrapper.classList.remove("active"),this.dropdown.classList.remove("opened","bottom-full","top-full"),!((h=this.dropdownDirectionClasses)===null||h===void 0)&&h.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),!((g=this.dropdownDirectionClasses)===null||g===void 0)&&g.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.style.marginBottom="",(0,u.afterTransition)(this.dropdown,()=>{var w;this.dropdown.classList.add("hidden"),this.hasSearch&&(this.search.value="",this.apiUrl||this.search.dispatchEvent(new Event("input",{bubbles:!0})),this.search.blur()),n&&(!((w=this.mode)===null||w===void 0)&&w.includes("tags")?this.wrapper.focus():this.toggle.focus()),this.animationInProcess=!1}),(f=this.dropdown.querySelector(".hs-select-option-highlighted"))===null||f===void 0||f.classList.remove("hs-select-option-highlighted"),this._isOpened=!1,window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,this._isOpened)}addOption(n){let o=`${this.selectOptions.length}`;const h=g=>{const{title:f,val:w,disabled:v,selected:y,options:T}=g;this.selectOptions.some(c=>c.val===w)||(this.addSelectOption(f,w,v,y,T),this.buildOption(f,w,v,y,T,o),this.buildOriginalOption(f,w,null,v,y,T),y&&!this.isMultiple&&this.onSelectOption(w))};Array.isArray(n)?n.forEach(g=>{h(g)}):h(n),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}removeOption(n){const o=(h,g=!1)=>{this.selectOptions.some(f=>f.val===h)&&(this.removeSelectOption(h,g),this.destroyOption(h),this.destroyOriginalOption(h),this.value===h&&(this.value=null,this.eraseToggleTitle(),this.eraseToggleIcon()))};Array.isArray(n)?n.forEach(h=>{o(h,this.isMultiple)}):o(n,this.isMultiple),this.setNewValue(),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}recalculateDirection(){var n,o,h,g;if(this!=null&&this.dropdownVerticalFixedPlacement&&(this.dropdown.classList.contains("bottom-full")||this.dropdown.classList.contains("top-full")))return!1;(this==null?void 0:this.dropdownVerticalFixedPlacement)==="top"?(this.dropdown.classList.add("bottom-full"),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`):(this==null?void 0:this.dropdownVerticalFixedPlacement)==="bottom"?(this.dropdown.classList.add("top-full"),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(0,u.isEnoughSpace)(this.dropdown,this.toggle||this.tagsInput,"bottom",this.dropdownSpace,this.viewport)?(this.dropdown.classList.remove("bottom-full"),!((n=this.dropdownDirectionClasses)===null||n===void 0)&&n.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom="",this.dropdown.classList.add("top-full"),!((o=this.dropdownDirectionClasses)===null||o===void 0)&&o.top&&this.dropdown.classList.add(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(this.dropdown.classList.remove("top-full"),!((h=this.dropdownDirectionClasses)===null||h===void 0)&&h.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.classList.add("bottom-full"),!((g=this.dropdownDirectionClasses)===null||g===void 0)&&g.bottom&&this.dropdown.classList.add(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`)}isOpened(){return this._isOpened||!1}containsElement(n){var o;return((o=this.wrapper)===null||o===void 0?void 0:o.contains(n))||!1}static findInCollection(n){return window.$hsSelectCollection.find(o=>n instanceof S?o.element.el===n.el:typeof n=="string"?o.element.el===document.querySelector(n):o.element.el===n)||null}static getInstance(n,o){const h=window.$hsSelectCollection.find(g=>g.element.el===(typeof n=="string"?document.querySelector(n):n));return h?o?h:h.element:null}static autoInit(){window.$hsSelectCollection||(window.$hsSelectCollection=[],window.addEventListener("click",n=>{const o=n.target;S.closeCurrentlyOpened(o)})),window.$hsSelectCollection&&(window.$hsSelectCollection=window.$hsSelectCollection.filter(({element:n})=>document.contains(n.el))),document.querySelectorAll("[data-hs-select]:not(.--prevent-on-load-init)").forEach(n=>{if(!window.$hsSelectCollection.find(o=>{var h;return((h=o?.element)===null||h===void 0?void 0:h.el)===n})){const o=n.getAttribute("data-hs-select"),h=o?JSON.parse(o):{};new S(n,h)}})}static open(n){const o=S.findInCollection(n);o&&!o.element.isOpened()&&o.element.open()}static close(n){const o=S.findInCollection(n);o&&o.element.isOpened()&&o.element.close()}static closeCurrentlyOpened(n=null){if(!n.closest(".hs-select.active")&&!n.closest("[data-hs-select-dropdown].opened")){const o=window.$hsSelectCollection.filter(h=>h.element.isOpened())||null;o&&o.forEach(h=>{h.element.close()})}}}window.addEventListener("load",()=>{S.autoInit()}),document.addEventListener("scroll",()=>{if(!window.$hsSelectCollection)return!1;const A=window.$hsSelectCollection.find(n=>n.element.isOpened());A&&A.element.recalculateDirection()}),typeof window<"u"&&(window.HSSelect=S),r.default=S},961:(p,r)=>{Object.defineProperty(r,"__esModule",{value:!0}),r.default=class{constructor(a,d,m){this.el=a,this.options=d,this.events=m,this.el=a,this.options=d,this.events={}}createCollection(a,d){var m;a.push({id:((m=d?.el)===null||m===void 0?void 0:m.id)||a.length+1,element:d})}fireEvent(a,d=null){if(this.events.hasOwnProperty(a))return this.events[a](d)}on(a,d){this.events[a]=d}}}},l={},t=function p(r){var a=l[r];if(a!==void 0)return a.exports;var d=l[r]={exports:{}};return i[r].call(d.exports,d,d.exports,p),d.exports}(442);return t})())}(Q)),Q.exports}ze();var j={exports:{}},He=j.exports,we;function Ne(){return we||(we=1,function(s,e){(function(i,l,t){s.exports=t(),s.exports.default=t()})("slugify",He,function(){var i=JSON.parse(`{"$":"dollar","%":"percent","&":"and","<":"less",">":"greater","|":"or","¢":"cent","£":"pound","¤":"currency","¥":"yen","©":"(c)","ª":"a","®":"(r)","º":"o","À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","Æ":"AE","Ç":"C","È":"E","É":"E","Ê":"E","Ë":"E","Ì":"I","Í":"I","Î":"I","Ï":"I","Ð":"D","Ñ":"N","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","Ù":"U","Ú":"U","Û":"U","Ü":"U","Ý":"Y","Þ":"TH","ß":"ss","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","æ":"ae","ç":"c","è":"e","é":"e","ê":"e","ë":"e","ì":"i","í":"i","î":"i","ï":"i","ð":"d","ñ":"n","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","ù":"u","ú":"u","û":"u","ü":"u","ý":"y","þ":"th","ÿ":"y","Ā":"A","ā":"a","Ă":"A","ă":"a","Ą":"A","ą":"a","Ć":"C","ć":"c","Č":"C","č":"c","Ď":"D","ď":"d","Đ":"DJ","đ":"dj","Ē":"E","ē":"e","Ė":"E","ė":"e","Ę":"e","ę":"e","Ě":"E","ě":"e","Ğ":"G","ğ":"g","Ģ":"G","ģ":"g","Ĩ":"I","ĩ":"i","Ī":"i","ī":"i","Į":"I","į":"i","İ":"I","ı":"i","Ķ":"k","ķ":"k","Ļ":"L","ļ":"l","Ľ":"L","ľ":"l","Ł":"L","ł":"l","Ń":"N","ń":"n","Ņ":"N","ņ":"n","Ň":"N","ň":"n","Ō":"O","ō":"o","Ő":"O","ő":"o","Œ":"OE","œ":"oe","Ŕ":"R","ŕ":"r","Ř":"R","ř":"r","Ś":"S","ś":"s","Ş":"S","ş":"s","Š":"S","š":"s","Ţ":"T","ţ":"t","Ť":"T","ť":"t","Ũ":"U","ũ":"u","Ū":"u","ū":"u","Ů":"U","ů":"u","Ű":"U","ű":"u","Ų":"U","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","ź":"z","Ż":"Z","ż":"z","Ž":"Z","ž":"z","Ə":"E","ƒ":"f","Ơ":"O","ơ":"o","Ư":"U","ư":"u","ǈ":"LJ","ǉ":"lj","ǋ":"NJ","ǌ":"nj","Ș":"S","ș":"s","Ț":"T","ț":"t","ə":"e","˚":"o","Ά":"A","Έ":"E","Ή":"H","Ί":"I","Ό":"O","Ύ":"Y","Ώ":"W","ΐ":"i","Α":"A","Β":"B","Γ":"G","Δ":"D","Ε":"E","Ζ":"Z","Η":"H","Θ":"8","Ι":"I","Κ":"K","Λ":"L","Μ":"M","Ν":"N","Ξ":"3","Ο":"O","Π":"P","Ρ":"R","Σ":"S","Τ":"T","Υ":"Y","Φ":"F","Χ":"X","Ψ":"PS","Ω":"W","Ϊ":"I","Ϋ":"Y","ά":"a","έ":"e","ή":"h","ί":"i","ΰ":"y","α":"a","β":"b","γ":"g","δ":"d","ε":"e","ζ":"z","η":"h","θ":"8","ι":"i","κ":"k","λ":"l","μ":"m","ν":"n","ξ":"3","ο":"o","π":"p","ρ":"r","ς":"s","σ":"s","τ":"t","υ":"y","φ":"f","χ":"x","ψ":"ps","ω":"w","ϊ":"i","ϋ":"y","ό":"o","ύ":"y","ώ":"w","Ё":"Yo","Ђ":"DJ","Є":"Ye","І":"I","Ї":"Yi","Ј":"J","Љ":"LJ","Њ":"NJ","Ћ":"C","Џ":"DZ","А":"A","Б":"B","В":"V","Г":"G","Д":"D","Е":"E","Ж":"Zh","З":"Z","И":"I","Й":"J","К":"K","Л":"L","М":"M","Н":"N","О":"O","П":"P","Р":"R","С":"S","Т":"T","У":"U","Ф":"F","Х":"H","Ц":"C","Ч":"Ch","Ш":"Sh","Щ":"Sh","Ъ":"U","Ы":"Y","Ь":"","Э":"E","Ю":"Yu","Я":"Ya","а":"a","б":"b","в":"v","г":"g","д":"d","е":"e","ж":"zh","з":"z","и":"i","й":"j","к":"k","л":"l","м":"m","н":"n","о":"o","п":"p","р":"r","с":"s","т":"t","у":"u","ф":"f","х":"h","ц":"c","ч":"ch","ш":"sh","щ":"sh","ъ":"u","ы":"y","ь":"","э":"e","ю":"yu","я":"ya","ё":"yo","ђ":"dj","є":"ye","і":"i","ї":"yi","ј":"j","љ":"lj","њ":"nj","ћ":"c","ѝ":"u","џ":"dz","Ґ":"G","ґ":"g","Ғ":"GH","ғ":"gh","Қ":"KH","қ":"kh","Ң":"NG","ң":"ng","Ү":"UE","ү":"ue","Ұ":"U","ұ":"u","Һ":"H","һ":"h","Ә":"AE","ә":"ae","Ө":"OE","ө":"oe","Ա":"A","Բ":"B","Գ":"G","Դ":"D","Ե":"E","Զ":"Z","Է":"E'","Ը":"Y'","Թ":"T'","Ժ":"JH","Ի":"I","Լ":"L","Խ":"X","Ծ":"C'","Կ":"K","Հ":"H","Ձ":"D'","Ղ":"GH","Ճ":"TW","Մ":"M","Յ":"Y","Ն":"N","Շ":"SH","Չ":"CH","Պ":"P","Ջ":"J","Ռ":"R'","Ս":"S","Վ":"V","Տ":"T","Ր":"R","Ց":"C","Փ":"P'","Ք":"Q'","Օ":"O''","Ֆ":"F","և":"EV","ء":"a","آ":"aa","أ":"a","ؤ":"u","إ":"i","ئ":"e","ا":"a","ب":"b","ة":"h","ت":"t","ث":"th","ج":"j","ح":"h","خ":"kh","د":"d","ذ":"th","ر":"r","ز":"z","س":"s","ش":"sh","ص":"s","ض":"dh","ط":"t","ظ":"z","ع":"a","غ":"gh","ف":"f","ق":"q","ك":"k","ل":"l","م":"m","ن":"n","ه":"h","و":"w","ى":"a","ي":"y","ً":"an","ٌ":"on","ٍ":"en","َ":"a","ُ":"u","ِ":"e","ْ":"","٠":"0","١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","پ":"p","چ":"ch","ژ":"zh","ک":"k","گ":"g","ی":"y","۰":"0","۱":"1","۲":"2","۳":"3","۴":"4","۵":"5","۶":"6","۷":"7","۸":"8","۹":"9","฿":"baht","ა":"a","ბ":"b","გ":"g","დ":"d","ე":"e","ვ":"v","ზ":"z","თ":"t","ი":"i","კ":"k","ლ":"l","მ":"m","ნ":"n","ო":"o","პ":"p","ჟ":"zh","რ":"r","ს":"s","ტ":"t","უ":"u","ფ":"f","ქ":"k","ღ":"gh","ყ":"q","შ":"sh","ჩ":"ch","ც":"ts","ძ":"dz","წ":"ts","ჭ":"ch","ხ":"kh","ჯ":"j","ჰ":"h","Ṣ":"S","ṣ":"s","Ẁ":"W","ẁ":"w","Ẃ":"W","ẃ":"w","Ẅ":"W","ẅ":"w","ẞ":"SS","Ạ":"A","ạ":"a","Ả":"A","ả":"a","Ấ":"A","ấ":"a","Ầ":"A","ầ":"a","Ẩ":"A","ẩ":"a","Ẫ":"A","ẫ":"a","Ậ":"A","ậ":"a","Ắ":"A","ắ":"a","Ằ":"A","ằ":"a","Ẳ":"A","ẳ":"a","Ẵ":"A","ẵ":"a","Ặ":"A","ặ":"a","Ẹ":"E","ẹ":"e","Ẻ":"E","ẻ":"e","Ẽ":"E","ẽ":"e","Ế":"E","ế":"e","Ề":"E","ề":"e","Ể":"E","ể":"e","Ễ":"E","ễ":"e","Ệ":"E","ệ":"e","Ỉ":"I","ỉ":"i","Ị":"I","ị":"i","Ọ":"O","ọ":"o","Ỏ":"O","ỏ":"o","Ố":"O","ố":"o","Ồ":"O","ồ":"o","Ổ":"O","ổ":"o","Ỗ":"O","ỗ":"o","Ộ":"O","ộ":"o","Ớ":"O","ớ":"o","Ờ":"O","ờ":"o","Ở":"O","ở":"o","Ỡ":"O","ỡ":"o","Ợ":"O","ợ":"o","Ụ":"U","ụ":"u","Ủ":"U","ủ":"u","Ứ":"U","ứ":"u","Ừ":"U","ừ":"u","Ử":"U","ử":"u","Ữ":"U","ữ":"u","Ự":"U","ự":"u","Ỳ":"Y","ỳ":"y","Ỵ":"Y","ỵ":"y","Ỷ":"Y","ỷ":"y","Ỹ":"Y","ỹ":"y","–":"-","‘":"'","’":"'","“":"\\"","”":"\\"","„":"\\"","†":"+","•":"*","…":"...","₠":"ecu","₢":"cruzeiro","₣":"french franc","₤":"lira","₥":"mill","₦":"naira","₧":"peseta","₨":"rupee","₩":"won","₪":"new shequel","₫":"dong","€":"euro","₭":"kip","₮":"tugrik","₯":"drachma","₰":"penny","₱":"peso","₲":"guarani","₳":"austral","₴":"hryvnia","₵":"cedi","₸":"kazakhstani tenge","₹":"indian rupee","₺":"turkish lira","₽":"russian ruble","₿":"bitcoin","℠":"sm","™":"tm","∂":"d","∆":"delta","∑":"sum","∞":"infinity","♥":"love","元":"yuan","円":"yen","﷼":"rial","ﻵ":"laa","ﻷ":"laa","ﻹ":"lai","ﻻ":"la"}`),l=JSON.parse('{"bg":{"Й":"Y","Ц":"Ts","Щ":"Sht","Ъ":"A","Ь":"Y","й":"y","ц":"ts","щ":"sht","ъ":"a","ь":"y"},"de":{"Ä":"AE","ä":"ae","Ö":"OE","ö":"oe","Ü":"UE","ü":"ue","ß":"ss","%":"prozent","&":"und","|":"oder","∑":"summe","∞":"unendlich","♥":"liebe"},"es":{"%":"por ciento","&":"y","<":"menor que",">":"mayor que","|":"o","¢":"centavos","£":"libras","¤":"moneda","₣":"francos","∑":"suma","∞":"infinito","♥":"amor"},"fr":{"%":"pourcent","&":"et","<":"plus petit",">":"plus grand","|":"ou","¢":"centime","£":"livre","¤":"devise","₣":"franc","∑":"somme","∞":"infini","♥":"amour"},"pt":{"%":"porcento","&":"e","<":"menor",">":"maior","|":"ou","¢":"centavo","∑":"soma","£":"libra","∞":"infinito","♥":"amor"},"uk":{"И":"Y","и":"y","Й":"Y","й":"y","Ц":"Ts","ц":"ts","Х":"Kh","х":"kh","Щ":"Shch","щ":"shch","Г":"H","г":"h"},"vi":{"Đ":"D","đ":"d"},"da":{"Ø":"OE","ø":"oe","Å":"AA","å":"aa","%":"procent","&":"og","|":"eller","$":"dollar","<":"mindre end",">":"større end"},"nb":{"&":"og","Å":"AA","Æ":"AE","Ø":"OE","å":"aa","æ":"ae","ø":"oe"},"it":{"&":"e"},"nl":{"&":"en"},"sv":{"&":"och","Å":"AA","Ä":"AE","Ö":"OE","å":"aa","ä":"ae","ö":"oe"}}');function t(p,r){if(typeof p!="string")throw new Error("slugify: string argument expected");r=typeof r=="string"?{replacement:r}:r||{};var a=l[r.locale]||{},d=r.replacement===void 0?"-":r.replacement,m=r.trim===void 0?!0:r.trim,u=p.normalize().split("").reduce(function(b,k){var x=a[k];return x===void 0&&(x=i[k]),x===void 0&&(x=k),x===d&&(x=" "),b+x.replace(r.remove||/[^\w\s$*_+~.()'"!\-:@]+/g,"")},"");return r.strict&&(u=u.replace(/[^A-Za-z0-9\s]/g,"")),m&&(u=u.trim()),u=u.replace(/\s+/g,d),r.lower&&(u=u.toLowerCase()),u}return t.extend=function(p){Object.assign(i,p)},t})}(j)),j.exports}Ne();function se(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var q=se();function Ie(s){q=s}var U={exec:()=>null};function C(s,e=""){let i=typeof s=="string"?s:s.source,l={replace:(t,p)=>{let r=typeof p=="string"?p:p.source;return r=r.replace($.caret,"$1"),i=i.replace(t,r),l},getRegex:()=>new RegExp(i,e)};return l}var $={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:s=>new RegExp(`^( {0,3}${s})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}#`),htmlBeginRegex:s=>new RegExp(`^ {0,${Math.min(3,s-1)}}<(?:[a-z].*>|!--)`,"i")},Ue=/^(?:[ \t]*(?:\n|$))+/,Be=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,We=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,B=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,je=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,ie=/(?:[*+-]|\d{1,9}[.)])/,Ee=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,Ce=C(Ee).replace(/bull/g,ie).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),Ve=C(Ee).replace(/bull/g,ie).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),ne=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,Ye=/^[^\n]+/,le=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ze=C(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",le).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),Ke=C(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,ie).getRegex(),G="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",re=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Ge=C("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",re).replace("tag",G).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ae=C(ne).replace("hr",B).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex(),Je=C(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Ae).getRegex(),oe={blockquote:Je,code:Be,def:Ze,fences:We,heading:je,hr:B,html:Ge,lheading:Ce,list:Ke,newline:Ue,paragraph:Ae,table:U,text:Ye},ve=C("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",B).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex(),Qe={...oe,lheading:Ve,table:ve,paragraph:C(ne).replace("hr",B).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",ve).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",G).getRegex()},Xe={...oe,html:C(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",re).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:U,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:C(ne).replace("hr",B).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ce).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},et=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,tt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,Le=/^( {2,}|\\)\n(?!\s*$)/,st=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,J=/[\p{P}\p{S}]/u,ae=/[\s\p{P}\p{S}]/u,Oe=/[^\s\p{P}\p{S}]/u,it=C(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ae).getRegex(),$e=/(?!~)[\p{P}\p{S}]/u,nt=/(?!~)[\s\p{P}\p{S}]/u,lt=/(?:[^\s\p{P}\p{S}]|~)/u,rt=/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<(?! )[^<>]*?>/g,Me=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,ot=C(Me,"u").replace(/punct/g,J).getRegex(),at=C(Me,"u").replace(/punct/g,$e).getRegex(),Re="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",ht=C(Re,"gu").replace(/notPunctSpace/g,Oe).replace(/punctSpace/g,ae).replace(/punct/g,J).getRegex(),ct=C(Re,"gu").replace(/notPunctSpace/g,lt).replace(/punctSpace/g,nt).replace(/punct/g,$e).getRegex(),pt=C("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Oe).replace(/punctSpace/g,ae).replace(/punct/g,J).getRegex(),dt=C(/\\(punct)/,"gu").replace(/punct/g,J).getRegex(),ut=C(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),gt=C(re).replace("(?:-->|$)","-->").getRegex(),ft=C("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",gt).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Y=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,mt=C(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Y).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),Pe=C(/^!?\[(label)\]\[(ref)\]/).replace("label",Y).replace("ref",le).getRegex(),_e=C(/^!?\[(ref)\](?:\[\])?/).replace("ref",le).getRegex(),wt=C("reflink|nolink(?!\\()","g").replace("reflink",Pe).replace("nolink",_e).getRegex(),he={_backpedal:U,anyPunctuation:dt,autolink:ut,blockSkip:rt,br:Le,code:tt,del:U,emStrongLDelim:ot,emStrongRDelimAst:ht,emStrongRDelimUnd:pt,escape:et,link:mt,nolink:_e,punctuation:it,reflink:Pe,reflinkSearch:wt,tag:ft,text:st,url:U},vt={...he,link:C(/^!?\[(label)\]\((.*?)\)/).replace("label",Y).getRegex(),reflink:C(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Y).getRegex()},X={...he,emStrongRDelimAst:ct,emStrongLDelim:at,url:C(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},bt={...X,br:C(Le).replace("{2,}","*").getRegex(),text:C(X.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},W={normal:oe,gfm:Qe,pedantic:Xe},H={normal:he,gfm:X,breaks:bt,pedantic:vt},kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},be=s=>kt[s];function R(s,e){if(e){if($.escapeTest.test(s))return s.replace($.escapeReplace,be)}else if($.escapeTestNoEncode.test(s))return s.replace($.escapeReplaceNoEncode,be);return s}function ke(s){try{s=encodeURI(s).replace($.percentDecode,"%")}catch{return null}return s}function xe(s,e){let i=s.replace($.findPipe,(p,r,a)=>{let d=!1,m=r;for(;--m>=0&&a[m]==="\\";)d=!d;return d?"|":" |"}),l=i.split($.splitPipe),t=0;if(l[0].trim()||l.shift(),l.length>0&&!l.at(-1)?.trim()&&l.pop(),e)if(l.length>e)l.splice(e);else for(;l.length<e;)l.push("");for(;t<l.length;t++)l[t]=l[t].trim().replace($.slashPipe,"|");return l}function N(s,e,i){let l=s.length;if(l===0)return"";let t=0;for(;t<l&&s.charAt(l-t-1)===e;)t++;return s.slice(0,l-t)}function xt(s,e){if(s.indexOf(e[1])===-1)return-1;let i=0;for(let l=0;l<s.length;l++)if(s[l]==="\\")l++;else if(s[l]===e[0])i++;else if(s[l]===e[1]&&(i--,i<0))return l;return i>0?-2:-1}function ye(s,e,i,l,t){let p=e.href,r=e.title||null,a=s[1].replace(t.other.outputLinkReplace,"$1");l.state.inLink=!0;let d={type:s[0].charAt(0)==="!"?"image":"link",raw:i,href:p,title:r,text:a,tokens:l.inlineTokens(a)};return l.state.inLink=!1,d}function yt(s,e,i){let l=s.match(i.other.indentCodeCompensation);if(l===null)return e;let t=l[1];return e.split(`
`).map(p=>{let r=p.match(i.other.beginningSpace);if(r===null)return p;let[a]=r;return a.length>=t.length?p.slice(t.length):p}).join(`
`)}var Z=class{options;rules;lexer;constructor(s){this.options=s||q}space(s){let e=this.rules.block.newline.exec(s);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(s){let e=this.rules.block.code.exec(s);if(e){let i=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?i:N(i,`
`)}}}fences(s){let e=this.rules.block.fences.exec(s);if(e){let i=e[0],l=yt(i,e[3]||"",this.rules);return{type:"code",raw:i,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:l}}}heading(s){let e=this.rules.block.heading.exec(s);if(e){let i=e[2].trim();if(this.rules.other.endingHash.test(i)){let l=N(i,"#");(this.options.pedantic||!l||this.rules.other.endingSpaceChar.test(l))&&(i=l.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:i,tokens:this.lexer.inline(i)}}}hr(s){let e=this.rules.block.hr.exec(s);if(e)return{type:"hr",raw:N(e[0],`
`)}}blockquote(s){let e=this.rules.block.blockquote.exec(s);if(e){let i=N(e[0],`
`).split(`
`),l="",t="",p=[];for(;i.length>0;){let r=!1,a=[],d;for(d=0;d<i.length;d++)if(this.rules.other.blockquoteStart.test(i[d]))a.push(i[d]),r=!0;else if(!r)a.push(i[d]);else break;i=i.slice(d);let m=a.join(`
`),u=m.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");l=l?`${l}
${m}`:m,t=t?`${t}
${u}`:u;let b=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(u,p,!0),this.lexer.state.top=b,i.length===0)break;let k=p.at(-1);if(k?.type==="code")break;if(k?.type==="blockquote"){let x=k,S=x.raw+`
`+i.join(`
`),A=this.blockquote(S);p[p.length-1]=A,l=l.substring(0,l.length-x.raw.length)+A.raw,t=t.substring(0,t.length-x.text.length)+A.text;break}else if(k?.type==="list"){let x=k,S=x.raw+`
`+i.join(`
`),A=this.list(S);p[p.length-1]=A,l=l.substring(0,l.length-k.raw.length)+A.raw,t=t.substring(0,t.length-x.raw.length)+A.raw,i=S.substring(p.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:l,tokens:p,text:t}}}list(s){let e=this.rules.block.list.exec(s);if(e){let i=e[1].trim(),l=i.length>1,t={type:"list",raw:"",ordered:l,start:l?+i.slice(0,-1):"",loose:!1,items:[]};i=l?`\\d{1,9}\\${i.slice(-1)}`:`\\${i}`,this.options.pedantic&&(i=l?i:"[*+-]");let p=this.rules.other.listItemRegex(i),r=!1;for(;s;){let d=!1,m="",u="";if(!(e=p.exec(s))||this.rules.block.hr.test(s))break;m=e[0],s=s.substring(m.length);let b=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,o=>" ".repeat(3*o.length)),k=s.split(`
`,1)[0],x=!b.trim(),S=0;if(this.options.pedantic?(S=2,u=b.trimStart()):x?S=e[1].length+1:(S=e[2].search(this.rules.other.nonSpaceChar),S=S>4?1:S,u=b.slice(S),S+=e[1].length),x&&this.rules.other.blankLine.test(k)&&(m+=k+`
`,s=s.substring(k.length+1),d=!0),!d){let o=this.rules.other.nextBulletRegex(S),h=this.rules.other.hrRegex(S),g=this.rules.other.fencesBeginRegex(S),f=this.rules.other.headingBeginRegex(S),w=this.rules.other.htmlBeginRegex(S);for(;s;){let v=s.split(`
`,1)[0],y;if(k=v,this.options.pedantic?(k=k.replace(this.rules.other.listReplaceNesting,"  "),y=k):y=k.replace(this.rules.other.tabCharGlobal,"    "),g.test(k)||f.test(k)||w.test(k)||o.test(k)||h.test(k))break;if(y.search(this.rules.other.nonSpaceChar)>=S||!k.trim())u+=`
`+y.slice(S);else{if(x||b.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||g.test(b)||f.test(b)||h.test(b))break;u+=`
`+k}!x&&!k.trim()&&(x=!0),m+=v+`
`,s=s.substring(v.length+1),b=y.slice(S)}}t.loose||(r?t.loose=!0:this.rules.other.doubleBlankLine.test(m)&&(r=!0));let A=null,n;this.options.gfm&&(A=this.rules.other.listIsTask.exec(u),A&&(n=A[0]!=="[ ] ",u=u.replace(this.rules.other.listReplaceTask,""))),t.items.push({type:"list_item",raw:m,task:!!A,checked:n,loose:!1,text:u,tokens:[]}),t.raw+=m}let a=t.items.at(-1);if(a)a.raw=a.raw.trimEnd(),a.text=a.text.trimEnd();else return;t.raw=t.raw.trimEnd();for(let d=0;d<t.items.length;d++)if(this.lexer.state.top=!1,t.items[d].tokens=this.lexer.blockTokens(t.items[d].text,[]),!t.loose){let m=t.items[d].tokens.filter(b=>b.type==="space"),u=m.length>0&&m.some(b=>this.rules.other.anyLine.test(b.raw));t.loose=u}if(t.loose)for(let d=0;d<t.items.length;d++)t.items[d].loose=!0;return t}}html(s){let e=this.rules.block.html.exec(s);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(s){let e=this.rules.block.def.exec(s);if(e){let i=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),l=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",t=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:i,raw:e[0],href:l,title:t}}}table(s){let e=this.rules.block.table.exec(s);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let i=xe(e[1]),l=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),t=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],p={type:"table",raw:e[0],header:[],align:[],rows:[]};if(i.length===l.length){for(let r of l)this.rules.other.tableAlignRight.test(r)?p.align.push("right"):this.rules.other.tableAlignCenter.test(r)?p.align.push("center"):this.rules.other.tableAlignLeft.test(r)?p.align.push("left"):p.align.push(null);for(let r=0;r<i.length;r++)p.header.push({text:i[r],tokens:this.lexer.inline(i[r]),header:!0,align:p.align[r]});for(let r of t)p.rows.push(xe(r,p.header.length).map((a,d)=>({text:a,tokens:this.lexer.inline(a),header:!1,align:p.align[d]})));return p}}lheading(s){let e=this.rules.block.lheading.exec(s);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(s){let e=this.rules.block.paragraph.exec(s);if(e){let i=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:i,tokens:this.lexer.inline(i)}}}text(s){let e=this.rules.block.text.exec(s);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(s){let e=this.rules.inline.escape.exec(s);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(s){let e=this.rules.inline.tag.exec(s);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(s){let e=this.rules.inline.link.exec(s);if(e){let i=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(i)){if(!this.rules.other.endAngleBracket.test(i))return;let p=N(i.slice(0,-1),"\\");if((i.length-p.length)%2===0)return}else{let p=xt(e[2],"()");if(p===-2)return;if(p>-1){let r=(e[0].indexOf("!")===0?5:4)+e[1].length+p;e[2]=e[2].substring(0,p),e[0]=e[0].substring(0,r).trim(),e[3]=""}}let l=e[2],t="";if(this.options.pedantic){let p=this.rules.other.pedanticHrefTitle.exec(l);p&&(l=p[1],t=p[3])}else t=e[3]?e[3].slice(1,-1):"";return l=l.trim(),this.rules.other.startAngleBracket.test(l)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(i)?l=l.slice(1):l=l.slice(1,-1)),ye(e,{href:l&&l.replace(this.rules.inline.anyPunctuation,"$1"),title:t&&t.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(s,e){let i;if((i=this.rules.inline.reflink.exec(s))||(i=this.rules.inline.nolink.exec(s))){let l=(i[2]||i[1]).replace(this.rules.other.multipleSpaceGlobal," "),t=e[l.toLowerCase()];if(!t){let p=i[0].charAt(0);return{type:"text",raw:p,text:p}}return ye(i,t,i[0],this.lexer,this.rules)}}emStrong(s,e,i=""){let l=this.rules.inline.emStrongLDelim.exec(s);if(!(!l||l[3]&&i.match(this.rules.other.unicodeAlphaNumeric))&&(!(l[1]||l[2])||!i||this.rules.inline.punctuation.exec(i))){let t=[...l[0]].length-1,p,r,a=t,d=0,m=l[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(m.lastIndex=0,e=e.slice(-1*s.length+t);(l=m.exec(e))!=null;){if(p=l[1]||l[2]||l[3]||l[4]||l[5]||l[6],!p)continue;if(r=[...p].length,l[3]||l[4]){a+=r;continue}else if((l[5]||l[6])&&t%3&&!((t+r)%3)){d+=r;continue}if(a-=r,a>0)continue;r=Math.min(r,r+a+d);let u=[...l[0]][0].length,b=s.slice(0,t+l.index+u+r);if(Math.min(t,r)%2){let x=b.slice(1,-1);return{type:"em",raw:b,text:x,tokens:this.lexer.inlineTokens(x)}}let k=b.slice(2,-2);return{type:"strong",raw:b,text:k,tokens:this.lexer.inlineTokens(k)}}}}codespan(s){let e=this.rules.inline.code.exec(s);if(e){let i=e[2].replace(this.rules.other.newLineCharGlobal," "),l=this.rules.other.nonSpaceChar.test(i),t=this.rules.other.startingSpaceChar.test(i)&&this.rules.other.endingSpaceChar.test(i);return l&&t&&(i=i.substring(1,i.length-1)),{type:"codespan",raw:e[0],text:i}}}br(s){let e=this.rules.inline.br.exec(s);if(e)return{type:"br",raw:e[0]}}del(s){let e=this.rules.inline.del.exec(s);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(s){let e=this.rules.inline.autolink.exec(s);if(e){let i,l;return e[2]==="@"?(i=e[1],l="mailto:"+i):(i=e[1],l=i),{type:"link",raw:e[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}url(s){let e;if(e=this.rules.inline.url.exec(s)){let i,l;if(e[2]==="@")i=e[0],l="mailto:"+i;else{let t;do t=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(t!==e[0]);i=e[0],e[1]==="www."?l="http://"+e[0]:l=e[0]}return{type:"link",raw:e[0],text:i,href:l,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(s){let e=this.rules.inline.text.exec(s);if(e){let i=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:i}}}},_=class ee{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||q,this.options.tokenizer=this.options.tokenizer||new Z,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let i={other:$,block:W.normal,inline:H.normal};this.options.pedantic?(i.block=W.pedantic,i.inline=H.pedantic):this.options.gfm&&(i.block=W.gfm,this.options.breaks?i.inline=H.breaks:i.inline=H.gfm),this.tokenizer.rules=i}static get rules(){return{block:W,inline:H}}static lex(e,i){return new ee(i).lex(e)}static lexInline(e,i){return new ee(i).inlineTokens(e)}lex(e){e=e.replace($.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){let l=this.inlineQueue[i];this.inlineTokens(l.src,l.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,i=[],l=!1){for(this.options.pedantic&&(e=e.replace($.tabCharGlobal,"    ").replace($.spaceLine,""));e;){let t;if(this.options.extensions?.block?.some(r=>(t=r.call({lexer:this},e,i))?(e=e.substring(t.raw.length),i.push(t),!0):!1))continue;if(t=this.tokenizer.space(e)){e=e.substring(t.raw.length);let r=i.at(-1);t.raw.length===1&&r!==void 0?r.raw+=`
`:i.push(t);continue}if(t=this.tokenizer.code(e)){e=e.substring(t.raw.length);let r=i.at(-1);r?.type==="paragraph"||r?.type==="text"?(r.raw+=(r.raw.endsWith(`
`)?"":`
`)+t.raw,r.text+=`
`+t.text,this.inlineQueue.at(-1).src=r.text):i.push(t);continue}if(t=this.tokenizer.fences(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.heading(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.hr(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.blockquote(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.list(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.html(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.def(e)){e=e.substring(t.raw.length);let r=i.at(-1);r?.type==="paragraph"||r?.type==="text"?(r.raw+=(r.raw.endsWith(`
`)?"":`
`)+t.raw,r.text+=`
`+t.raw,this.inlineQueue.at(-1).src=r.text):this.tokens.links[t.tag]||(this.tokens.links[t.tag]={href:t.href,title:t.title});continue}if(t=this.tokenizer.table(e)){e=e.substring(t.raw.length),i.push(t);continue}if(t=this.tokenizer.lheading(e)){e=e.substring(t.raw.length),i.push(t);continue}let p=e;if(this.options.extensions?.startBlock){let r=1/0,a=e.slice(1),d;this.options.extensions.startBlock.forEach(m=>{d=m.call({lexer:this},a),typeof d=="number"&&d>=0&&(r=Math.min(r,d))}),r<1/0&&r>=0&&(p=e.substring(0,r+1))}if(this.state.top&&(t=this.tokenizer.paragraph(p))){let r=i.at(-1);l&&r?.type==="paragraph"?(r.raw+=(r.raw.endsWith(`
`)?"":`
`)+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):i.push(t),l=p.length!==e.length,e=e.substring(t.raw.length);continue}if(t=this.tokenizer.text(e)){e=e.substring(t.raw.length);let r=i.at(-1);r?.type==="text"?(r.raw+=(r.raw.endsWith(`
`)?"":`
`)+t.raw,r.text+=`
`+t.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=r.text):i.push(t);continue}if(e){let r="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(r);break}else throw new Error(r)}}return this.state.top=!0,i}inline(e,i=[]){return this.inlineQueue.push({src:e,tokens:i}),i}inlineTokens(e,i=[]){let l=e,t=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(t=this.tokenizer.rules.inline.reflinkSearch.exec(l))!=null;)a.includes(t[0].slice(t[0].lastIndexOf("[")+1,-1))&&(l=l.slice(0,t.index)+"["+"a".repeat(t[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(t=this.tokenizer.rules.inline.anyPunctuation.exec(l))!=null;)l=l.slice(0,t.index)+"++"+l.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;(t=this.tokenizer.rules.inline.blockSkip.exec(l))!=null;)l=l.slice(0,t.index)+"["+"a".repeat(t[0].length-2)+"]"+l.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let p=!1,r="";for(;e;){p||(r=""),p=!1;let a;if(this.options.extensions?.inline?.some(m=>(a=m.call({lexer:this},e,i))?(e=e.substring(a.raw.length),i.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let m=i.at(-1);a.type==="text"&&m?.type==="text"?(m.raw+=a.raw,m.text+=a.text):i.push(a);continue}if(a=this.tokenizer.emStrong(e,l,r)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),i.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),i.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),i.push(a);continue}let d=e;if(this.options.extensions?.startInline){let m=1/0,u=e.slice(1),b;this.options.extensions.startInline.forEach(k=>{b=k.call({lexer:this},u),typeof b=="number"&&b>=0&&(m=Math.min(m,b))}),m<1/0&&m>=0&&(d=e.substring(0,m+1))}if(a=this.tokenizer.inlineText(d)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(r=a.raw.slice(-1)),p=!0;let m=i.at(-1);m?.type==="text"?(m.raw+=a.raw,m.text+=a.text):i.push(a);continue}if(e){let m="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return i}},K=class{options;parser;constructor(s){this.options=s||q}space(s){return""}code({text:s,lang:e,escaped:i}){let l=(e||"").match($.notSpaceStart)?.[0],t=s.replace($.endingNewline,"")+`
`;return l?'<pre><code class="language-'+R(l)+'">'+(i?t:R(t,!0))+`</code></pre>
`:"<pre><code>"+(i?t:R(t,!0))+`</code></pre>
`}blockquote({tokens:s}){return`<blockquote>
${this.parser.parse(s)}</blockquote>
`}html({text:s}){return s}heading({tokens:s,depth:e}){return`<h${e}>${this.parser.parseInline(s)}</h${e}>
`}hr(s){return`<hr>
`}list(s){let e=s.ordered,i=s.start,l="";for(let r=0;r<s.items.length;r++){let a=s.items[r];l+=this.listitem(a)}let t=e?"ol":"ul",p=e&&i!==1?' start="'+i+'"':"";return"<"+t+p+`>
`+l+"</"+t+`>
`}listitem(s){let e="";if(s.task){let i=this.checkbox({checked:!!s.checked});s.loose?s.tokens[0]?.type==="paragraph"?(s.tokens[0].text=i+" "+s.tokens[0].text,s.tokens[0].tokens&&s.tokens[0].tokens.length>0&&s.tokens[0].tokens[0].type==="text"&&(s.tokens[0].tokens[0].text=i+" "+R(s.tokens[0].tokens[0].text),s.tokens[0].tokens[0].escaped=!0)):s.tokens.unshift({type:"text",raw:i+" ",text:i+" ",escaped:!0}):e+=i+" "}return e+=this.parser.parse(s.tokens,!!s.loose),`<li>${e}</li>
`}checkbox({checked:s}){return"<input "+(s?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:s}){return`<p>${this.parser.parseInline(s)}</p>
`}table(s){let e="",i="";for(let t=0;t<s.header.length;t++)i+=this.tablecell(s.header[t]);e+=this.tablerow({text:i});let l="";for(let t=0;t<s.rows.length;t++){let p=s.rows[t];i="";for(let r=0;r<p.length;r++)i+=this.tablecell(p[r]);l+=this.tablerow({text:i})}return l&&(l=`<tbody>${l}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+l+`</table>
`}tablerow({text:s}){return`<tr>
${s}</tr>
`}tablecell(s){let e=this.parser.parseInline(s.tokens),i=s.header?"th":"td";return(s.align?`<${i} align="${s.align}">`:`<${i}>`)+e+`</${i}>
`}strong({tokens:s}){return`<strong>${this.parser.parseInline(s)}</strong>`}em({tokens:s}){return`<em>${this.parser.parseInline(s)}</em>`}codespan({text:s}){return`<code>${R(s,!0)}</code>`}br(s){return"<br>"}del({tokens:s}){return`<del>${this.parser.parseInline(s)}</del>`}link({href:s,title:e,tokens:i}){let l=this.parser.parseInline(i),t=ke(s);if(t===null)return l;s=t;let p='<a href="'+s+'"';return e&&(p+=' title="'+R(e)+'"'),p+=">"+l+"</a>",p}image({href:s,title:e,text:i,tokens:l}){l&&(i=this.parser.parseInline(l,this.parser.textRenderer));let t=ke(s);if(t===null)return R(i);s=t;let p=`<img src="${s}" alt="${i}"`;return e&&(p+=` title="${R(e)}"`),p+=">",p}text(s){return"tokens"in s&&s.tokens?this.parser.parseInline(s.tokens):"escaped"in s&&s.escaped?s.text:R(s.text)}},ce=class{strong({text:s}){return s}em({text:s}){return s}codespan({text:s}){return s}del({text:s}){return s}html({text:s}){return s}text({text:s}){return s}link({text:s}){return""+s}image({text:s}){return""+s}br(){return""}},F=class te{options;renderer;textRenderer;constructor(e){this.options=e||q,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new ce}static parse(e,i){return new te(i).parse(e)}static parseInline(e,i){return new te(i).parseInline(e)}parse(e,i=!0){let l="";for(let t=0;t<e.length;t++){let p=e[t];if(this.options.extensions?.renderers?.[p.type]){let a=p,d=this.options.extensions.renderers[a.type].call({parser:this},a);if(d!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(a.type)){l+=d||"";continue}}let r=p;switch(r.type){case"space":{l+=this.renderer.space(r);continue}case"hr":{l+=this.renderer.hr(r);continue}case"heading":{l+=this.renderer.heading(r);continue}case"code":{l+=this.renderer.code(r);continue}case"table":{l+=this.renderer.table(r);continue}case"blockquote":{l+=this.renderer.blockquote(r);continue}case"list":{l+=this.renderer.list(r);continue}case"html":{l+=this.renderer.html(r);continue}case"paragraph":{l+=this.renderer.paragraph(r);continue}case"text":{let a=r,d=this.renderer.text(a);for(;t+1<e.length&&e[t+1].type==="text";)a=e[++t],d+=`
`+this.renderer.text(a);i?l+=this.renderer.paragraph({type:"paragraph",raw:d,text:d,tokens:[{type:"text",raw:d,text:d,escaped:!0}]}):l+=d;continue}default:{let a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return l}parseInline(e,i=this.renderer){let l="";for(let t=0;t<e.length;t++){let p=e[t];if(this.options.extensions?.renderers?.[p.type]){let a=this.options.extensions.renderers[p.type].call({parser:this},p);if(a!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(p.type)){l+=a||"";continue}}let r=p;switch(r.type){case"escape":{l+=i.text(r);break}case"html":{l+=i.html(r);break}case"link":{l+=i.link(r);break}case"image":{l+=i.image(r);break}case"strong":{l+=i.strong(r);break}case"em":{l+=i.em(r);break}case"codespan":{l+=i.codespan(r);break}case"br":{l+=i.br(r);break}case"del":{l+=i.del(r);break}case"text":{l+=i.text(r);break}default:{let a='Token with "'+r.type+'" type was not found.';if(this.options.silent)return console.error(a),"";throw new Error(a)}}}return l}},V=class{options;block;constructor(s){this.options=s||q}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(s){return s}postprocess(s){return s}processAllTokens(s){return s}provideLexer(){return this.block?_.lex:_.lexInline}provideParser(){return this.block?F.parse:F.parseInline}},St=class{defaults=se();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=F;Renderer=K;TextRenderer=ce;Lexer=_;Tokenizer=Z;Hooks=V;constructor(...s){this.use(...s)}walkTokens(s,e){let i=[];for(let l of s)switch(i=i.concat(e.call(this,l)),l.type){case"table":{let t=l;for(let p of t.header)i=i.concat(this.walkTokens(p.tokens,e));for(let p of t.rows)for(let r of p)i=i.concat(this.walkTokens(r.tokens,e));break}case"list":{let t=l;i=i.concat(this.walkTokens(t.items,e));break}default:{let t=l;this.defaults.extensions?.childTokens?.[t.type]?this.defaults.extensions.childTokens[t.type].forEach(p=>{let r=t[p].flat(1/0);i=i.concat(this.walkTokens(r,e))}):t.tokens&&(i=i.concat(this.walkTokens(t.tokens,e)))}}return i}use(...s){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return s.forEach(i=>{let l={...i};if(l.async=this.defaults.async||l.async||!1,i.extensions&&(i.extensions.forEach(t=>{if(!t.name)throw new Error("extension name required");if("renderer"in t){let p=e.renderers[t.name];p?e.renderers[t.name]=function(...r){let a=t.renderer.apply(this,r);return a===!1&&(a=p.apply(this,r)),a}:e.renderers[t.name]=t.renderer}if("tokenizer"in t){if(!t.level||t.level!=="block"&&t.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let p=e[t.level];p?p.unshift(t.tokenizer):e[t.level]=[t.tokenizer],t.start&&(t.level==="block"?e.startBlock?e.startBlock.push(t.start):e.startBlock=[t.start]:t.level==="inline"&&(e.startInline?e.startInline.push(t.start):e.startInline=[t.start]))}"childTokens"in t&&t.childTokens&&(e.childTokens[t.name]=t.childTokens)}),l.extensions=e),i.renderer){let t=this.defaults.renderer||new K(this.defaults);for(let p in i.renderer){if(!(p in t))throw new Error(`renderer '${p}' does not exist`);if(["options","parser"].includes(p))continue;let r=p,a=i.renderer[r],d=t[r];t[r]=(...m)=>{let u=a.apply(t,m);return u===!1&&(u=d.apply(t,m)),u||""}}l.renderer=t}if(i.tokenizer){let t=this.defaults.tokenizer||new Z(this.defaults);for(let p in i.tokenizer){if(!(p in t))throw new Error(`tokenizer '${p}' does not exist`);if(["options","rules","lexer"].includes(p))continue;let r=p,a=i.tokenizer[r],d=t[r];t[r]=(...m)=>{let u=a.apply(t,m);return u===!1&&(u=d.apply(t,m)),u}}l.tokenizer=t}if(i.hooks){let t=this.defaults.hooks||new V;for(let p in i.hooks){if(!(p in t))throw new Error(`hook '${p}' does not exist`);if(["options","block"].includes(p))continue;let r=p,a=i.hooks[r],d=t[r];V.passThroughHooks.has(p)?t[r]=m=>{if(this.defaults.async)return Promise.resolve(a.call(t,m)).then(b=>d.call(t,b));let u=a.call(t,m);return d.call(t,u)}:t[r]=(...m)=>{let u=a.apply(t,m);return u===!1&&(u=d.apply(t,m)),u}}l.hooks=t}if(i.walkTokens){let t=this.defaults.walkTokens,p=i.walkTokens;l.walkTokens=function(r){let a=[];return a.push(p.call(this,r)),t&&(a=a.concat(t.call(this,r))),a}}this.defaults={...this.defaults,...l}}),this}setOptions(s){return this.defaults={...this.defaults,...s},this}lexer(s,e){return _.lex(s,e??this.defaults)}parser(s,e){return F.parse(s,e??this.defaults)}parseMarkdown(s){return(e,i)=>{let l={...i},t={...this.defaults,...l},p=this.onError(!!t.silent,!!t.async);if(this.defaults.async===!0&&l.async===!1)return p(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return p(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return p(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));t.hooks&&(t.hooks.options=t,t.hooks.block=s);let r=t.hooks?t.hooks.provideLexer():s?_.lex:_.lexInline,a=t.hooks?t.hooks.provideParser():s?F.parse:F.parseInline;if(t.async)return Promise.resolve(t.hooks?t.hooks.preprocess(e):e).then(d=>r(d,t)).then(d=>t.hooks?t.hooks.processAllTokens(d):d).then(d=>t.walkTokens?Promise.all(this.walkTokens(d,t.walkTokens)).then(()=>d):d).then(d=>a(d,t)).then(d=>t.hooks?t.hooks.postprocess(d):d).catch(p);try{t.hooks&&(e=t.hooks.preprocess(e));let d=r(e,t);t.hooks&&(d=t.hooks.processAllTokens(d)),t.walkTokens&&this.walkTokens(d,t.walkTokens);let m=a(d,t);return t.hooks&&(m=t.hooks.postprocess(m)),m}catch(d){return p(d)}}}onError(s,e){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,s){let l="<p>An error occurred:</p><pre>"+R(i.message+"",!0)+"</pre>";return e?Promise.resolve(l):l}if(e)return Promise.reject(i);throw i}}},D=new St;function I(s,e){return D.parse(s,e)}I.options=I.setOptions=function(s){return D.setOptions(s),I.defaults=D.defaults,Ie(I.defaults),I};I.getDefaults=se;I.defaults=q;I.use=function(...s){return D.use(...s),I.defaults=D.defaults,Ie(I.defaults),I};I.walkTokens=function(s,e){return D.walkTokens(s,e)};I.parseInline=D.parseInline;I.Parser=F;I.parser=F.parse;I.Renderer=K;I.TextRenderer=ce;I.Lexer=_;I.lexer=_.lex;I.Tokenizer=Z;I.Hooks=V;I.parse=I;I.options;I.setOptions;I.use;I.walkTokens;I.parseInline;F.parse;_.lex;const Se=(s,e)=>{if(!s)return"";const i=new I.Renderer;return i.link=l=>{const t=l.href.startsWith("http"),p=l.href.includes("getastrothemes")?'target="_blank" rel="noopener"':t?'target="_blank" rel="noopener noreferrer nofollow"':"";return`<a href="${l.href}" ${p}>${l.text}</a>`},I.setOptions({renderer:i}),e?I.parse(s):I.parseInline(s)};function pe(s){s?.reset(),s?.querySelectorAll("[input-wrapper]:not(.hidden):not(.message).success, [input-wrapper]:not(.hidden):not(.message).error")?.forEach(l=>{l.classList.remove("success","error")}),s?.querySelectorAll("[input-wrapper]:not(.hidden) select[data-hs-select]")?.forEach(l=>{const t=l,p=window.HSSelect.getInstance(l);t.selectedIndex=0,p&&p.setValue("")})}const Te=s=>{const e=s.closest("[input-wrapper]");s.value===""?(e?.classList.add("error"),e?.classList.remove("success")):(e?.classList.contains("error")&&e?.classList.add("success"),e?.classList.remove("error"))};function Tt(s){const e=s.querySelectorAll("input[name], [input-wrapper]:not(.hidden) select[data-hs-select], textarea[name]");for(let i of e){const l=i;if(l.tagName==="SELECT"&&l.value==="")return!1;if(l.hasAttribute("required")&&l.value==="")return!1}return!0}const P=(s,e,i=!1,l)=>{const t=l?.querySelector('button[type="submit"]'),p=e?"success":"error",r=l.querySelectorAll(".message"),a=l.querySelector(`.message.${p}`),d=a?.querySelector(".prose-styles"),m=d?.getAttribute("data-default");r.forEach(u=>{u!==a&&u.classList.add("hidden")}),s==="default"&&d&&m&&(d.innerHTML=Se(m,!0)),a?.classList.remove("hidden"),i?t?.setAttribute("disabled","true"):t?.removeAttribute("disabled"),d&&s!=="default"&&(d.innerHTML=Se(s,!0))},It=async({form:s,action:e})=>{const i=Object.fromEntries(new FormData(s).entries()),l=new AbortController,t=l.signal,p=6e4,r=e.replace("formsubmit.co/","formsubmit.co/ajax/"),a=setTimeout(()=>{l.abort()},p);fetch(r,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(i),signal:t}).then(async d=>{const m=await d.json();m.success==="true"?(P("default",!0,!1,s),pe(s)):m.success==="false"&&P(m.message,!1,!1,s)}).catch(async d=>{d.name==="AbortError"?P("We couldn't reach the server. Trying alternative server.",!1,!1,s):P("Oops! There was a problem submitting your form.",!1,!1,s)}).finally(()=>{clearTimeout(a)})},Et=async(s,e,i,l)=>{setTimeout(()=>i.abort(),l);const t=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(e),signal:i.signal});if(t.status!==200)throw new Error("Request failed with status code "+t.status)},Ct=async(s,e,i)=>{try{await Et("https://formspree.io/f/xwpkvjaa",s,new AbortController,e),P("default",!0,!1,i),pe(i)}catch(l){P(l+"! Please use this mail - [folex-astro-theme@gmail.com](mailto:folex-astro-theme@gmail.com) to submit a ticket!",!0,!1,i)}},At=async(s,e)=>{const i=new URLSearchParams(new FormData(s)).toString();try{if((await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:i})).ok)P("default",!0,!1,s),pe(s);else throw new Error("Netlify form submission failed.")}catch(l){throw P("Netlify submission error: "+l,!1,!1,s),l}};document.addEventListener("DOMContentLoaded",()=>{const s=document.getElementById("contact-form");let e=s?.querySelectorAll("[input-wrapper]:not(.hidden) select[data-hs-select]");function i(l){l.forEach(t=>{t.value!==""?t.classList.add("hs-select-active"):t.classList.remove("hs-select-active")})}i(Array.from(e)),e.forEach(l=>{l.addEventListener("change",()=>{e.forEach(t=>{const p=t.getAttribute("data-name");t.setAttribute("name",p||"")}),Te(l),i(Array.from(e))})}),s?.addEventListener("submit",async l=>{l.preventDefault();const t=s?.getAttribute("data-provider")||"",p=s?.getAttribute("data-action")||"";if(e=s?.querySelectorAll("[input-wrapper]:not(.hidden) select[data-hs-select]"),e.forEach(Te),Tt(s)){const r=Object.fromEntries(new FormData(s).entries());console.log(Object.entries(r).map(([a,d])=>`${a}: ${d}`).join(`

`)),P("Form Submitting!...",!0,!0,s);try{switch(t){case"netlify":await At(s,p);break;case"formsubmit.co":await It({form:s,action:p});break;case"formspree":await Ct(Object.fromEntries(new FormData(s).entries()),5e3,s);break;default:throw new Error("Unknown form provider.")}}catch(a){P(a+"! Please use this mail - [folex-astro-theme@gmail.com](mailto:folex-astro-theme@gmail.com) to submit a ticket!",!1,!1,s)}}})});
